# Comparing `tmp/siat-1.8.3-py3-none-any.whl.zip` & `tmp/siat-1.9-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,8 +1,8 @@
-Zip file size: 1104380 bytes, number of entries: 113
+Zip file size: 1117402 bytes, number of entries: 115
 -rw-rw-rw-  2.0 fat      840 b- defN 23-Apr-10 11:29 siat/__init__.py
 -rw-rw-rw-  2.0 fat     2130 b- defN 23-Apr-10 11:29 siat/allin.py
 -rw-rw-rw-  2.0 fat      747 b- defN 23-Apr-10 11:29 siat/alpha_vantage_test.py
 -rw-rw-rw-  2.0 fat    28555 b- defN 23-Apr-10 11:29 siat/assets_liquidity.py
 -rw-rw-rw-  2.0 fat     1285 b- defN 23-Apr-10 11:29 siat/assets_liquidity_test.py
 -rw-rw-rw-  2.0 fat    10110 b- defN 23-Apr-10 11:29 siat/barrons_scraping_test.py
 -rw-rw-rw-  2.0 fat    36597 b- defN 23-Apr-10 11:29 siat/beta_adjustment.py
@@ -31,15 +31,15 @@
 -rw-rw-rw-  2.0 fat     2944 b- defN 23-Apr-10 11:29 siat/esg_test.py
 -rw-rw-rw-  2.0 fat    47177 b- defN 23-Apr-10 11:29 siat/fama_french.py
 -rw-rw-rw-  2.0 fat     4678 b- defN 23-Apr-10 11:29 siat/fama_french_test.py
 -rw-rw-rw-  2.0 fat    40695 b- defN 23-Apr-10 11:29 siat/financial_base.py
 -rw-rw-rw-  2.0 fat    21528 b- defN 23-Apr-10 11:29 siat/financial_statements.py
 -rw-rw-rw-  2.0 fat      716 b- defN 23-Apr-10 11:29 siat/financial_statements_test.py
 -rw-rw-rw-  2.0 fat    76676 b- defN 23-Apr-10 11:29 siat/financials.py
--rw-rw-rw-  2.0 fat   105509 b- defN 23-Apr-10 11:29 siat/financials_china.py
+-rw-rw-rw-  2.0 fat   124837 b- defN 23-Apr-18 13:43 siat/financials_china.py
 -rw-rw-rw-  2.0 fat    57998 b- defN 23-Apr-10 11:29 siat/financials_china2.py
 -rw-rw-rw-  2.0 fat     2722 b- defN 23-Apr-10 11:29 siat/financials_china2_test.py
 -rw-rw-rw-  2.0 fat     3507 b- defN 23-Apr-10 11:29 siat/financials_china2_test2.py
 -rw-rw-rw-  2.0 fat     3118 b- defN 23-Apr-10 11:29 siat/financials_china2_test3.py
 -rw-rw-rw-  2.0 fat    17549 b- defN 23-Apr-10 11:29 siat/financials_china_test.py
 -rw-rw-rw-  2.0 fat    23829 b- defN 23-Apr-10 11:29 siat/financials_test.py
 -rw-rw-rw-  2.0 fat     1201 b- defN 23-Apr-10 11:29 siat/fred_test.py
@@ -94,22 +94,24 @@
 -rw-rw-rw-  2.0 fat     1014 b- defN 23-Apr-10 11:29 siat/stock_list_china_test.py
 -rw-rw-rw-  2.0 fat    36738 b- defN 23-Apr-10 11:29 siat/stock_prices_kneighbors.py
 -rw-rw-rw-  2.0 fat    13991 b- defN 23-Apr-10 11:29 siat/stock_prices_linear.py
 -rw-rw-rw-  2.0 fat    25017 b- defN 23-Apr-10 11:29 siat/stock_profile.py
 -rw-rw-rw-  2.0 fat    72626 b- defN 23-Apr-10 11:29 siat/stock_technical.py
 -rw-rw-rw-  2.0 fat    19475 b- defN 23-Apr-10 11:29 siat/stock_test.py
 -rw-rw-rw-  2.0 fat     1571 b- defN 23-Apr-10 11:29 siat/temp.py
+-rw-rw-rw-  2.0 fat    16648 b- defN 23-Apr-18 09:06 siat/test2_graphviz.py
+-rw-rw-rw-  2.0 fat    16999 b- defN 23-Apr-14 14:38 siat/test_graphviz.py
 -rw-rw-rw-  2.0 fat    14492 b- defN 23-Apr-10 11:29 siat/transaction.py
 -rw-rw-rw-  2.0 fat    18580 b- defN 23-Apr-10 11:29 siat/transaction_test.py
 -rw-rw-rw-  2.0 fat   117953 b- defN 23-Apr-10 11:29 siat/translate-20230125.py
 -rw-rw-rw-  2.0 fat   118133 b- defN 23-Apr-10 11:29 siat/translate-20230206.py
 -rw-rw-rw-  2.0 fat   121657 b- defN 23-Apr-10 11:29 siat/translate-20230215.py
 -rw-rw-rw-  2.0 fat   124748 b- defN 23-Apr-10 11:29 siat/translate.py
 -rw-rw-rw-  2.0 fat     3936 b- defN 23-Apr-10 11:29 siat/universal_test.py
 -rw-rw-rw-  2.0 fat    51268 b- defN 23-Apr-10 11:29 siat/valuation_china.py
 -rw-rw-rw-  2.0 fat     1571 b- defN 23-Apr-10 11:29 siat/valuation_market_china_test.py
 -rw-rw-rw-  2.0 fat    14859 b- defN 23-Apr-10 11:29 siat/var_model_validation.py
--rw-rw-rw-  2.0 fat     1399 b- defN 23-Apr-11 14:18 siat-1.8.3.dist-info/METADATA
--rw-rw-rw-  2.0 fat       92 b- defN 23-Apr-11 14:18 siat-1.8.3.dist-info/WHEEL
--rw-rw-rw-  2.0 fat        5 b- defN 23-Apr-11 14:18 siat-1.8.3.dist-info/top_level.txt
-?rw-rw-r--  2.0 fat     9006 b- defN 23-Apr-11 14:18 siat-1.8.3.dist-info/RECORD
-113 files, 4341980 bytes uncompressed, 1090648 bytes compressed:  74.9%
+-rw-rw-rw-  2.0 fat     1397 b- defN 23-Apr-18 13:47 siat-1.9.dist-info/METADATA
+-rw-rw-rw-  2.0 fat       92 b- defN 23-Apr-18 13:47 siat-1.9.dist-info/WHEEL
+-rw-rw-rw-  2.0 fat        5 b- defN 23-Apr-18 13:47 siat-1.9.dist-info/top_level.txt
+?rw-rw-r--  2.0 fat     9157 b- defN 23-Apr-18 13:47 siat-1.9.dist-info/RECORD
+115 files, 4395104 bytes uncompressed, 1103448 bytes compressed:  74.9%
```

## zipnote {}

```diff
@@ -291,14 +291,20 @@
 
 Filename: siat/stock_test.py
 Comment: 
 
 Filename: siat/temp.py
 Comment: 
 
+Filename: siat/test2_graphviz.py
+Comment: 
+
+Filename: siat/test_graphviz.py
+Comment: 
+
 Filename: siat/transaction.py
 Comment: 
 
 Filename: siat/transaction_test.py
 Comment: 
 
 Filename: siat/translate-20230125.py
@@ -321,20 +327,20 @@
 
 Filename: siat/valuation_market_china_test.py
 Comment: 
 
 Filename: siat/var_model_validation.py
 Comment: 
 
-Filename: siat-1.8.3.dist-info/METADATA
+Filename: siat-1.9.dist-info/METADATA
 Comment: 
 
-Filename: siat-1.8.3.dist-info/WHEEL
+Filename: siat-1.9.dist-info/WHEEL
 Comment: 
 
-Filename: siat-1.8.3.dist-info/top_level.txt
+Filename: siat-1.9.dist-info/top_level.txt
 Comment: 
 
-Filename: siat-1.8.3.dist-info/RECORD
+Filename: siat-1.9.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## siat/financials_china.py

```diff
@@ -2546,10 +2546,455 @@
         itemk="(不增加财务杠杆的)可持续增长率(SGR)%"
         footnote=ectranslate(itemk)+" -->"+ \
             "\n报表截止日期："+endDate+ \
             "\n数据来源: sina/EM, "+str(today)
         plot_barh(df,colname,titletxt,footnote,axisamp=axisamp2)         
     return df
 #==============================================================================
+if __name__=='__main__':
+    ticker="600519.SS" 
+    ticker="601398.SS"
+    ticker='601628.SS'
+    
+    fsdate='2021-12-31'
+    
+    g=dupont_decompose_china(ticker,fsdate)
+
+def dupont_decompose_china(ticker,fsdate,gview=False):
+    """
+    功能：杜邦分析分解图
+    ticker: 股票代码
+    fsdate： 财报日期
+    gview: False为嵌入式显示，True为分离式显示
+    """
+    #检查日期
+    result,fspd,_=check_period(fsdate,fsdate)
+    if not result:
+        print("  #Error(dupont_decompose_china): invalid date",fsdate)
+        return None
+    
+    #获取财报
+    fs=get_fin_stmt_ak(ticker)
+    if fs is None:
+        print("  #Error(dupont_decompose_china): stock not found for",ticker)
+        return None
+    
+    fs1=fs[fs.index==fspd]
+    if len(fs1)==0:
+        print("  #Error(dupont_decompose_china): financial statements not found for",ticker,'@',fsdate)
+        return None
+
+    #亿元
+    yi=100000000
+
+    company_name=codetranslate(ticker)
+    # 定义杜邦分解项目变量
+    
+    roe='【'+company_name+'】\n\n'+'净资产收益率'
+    try:
+        totalOEValue=round(fs1['所有者权益(或股东权益)合计'].values[0] / yi,1)
+    except:
+        try:
+            totalOEValue=round(fs1['股东权益合计'].values[0] / yi,1)
+        except:
+            totalOEValue=round(fs1['所有者权益合计'].values[0] / yi,1)
+        
+    roa='总资产净利率'
+    em='权益乘数'
+    pm='销售净利率'
+    tat='总资产周转率'
+    
+    debtRatio='资产负债率'
+    totalLiabValue=round(fs1['负债合计'].values[0] / yi,1)
+    
+    netProfit='净利润'
+    netProfitValue=round(fs1['五、净利润'].values[0] / yi,1)
+    roePct=round(netProfitValue / totalOEValue *100,2)
+    
+    sales='销售收入'
+    try:
+        salesValue=round(fs1['一、营业总收入'].values[0] / yi,1)
+    except:
+        salesValue=round(fs1['一、营业收入'].values[0] / yi,1)
+        
+    pmPct=round(netProfitValue / salesValue *100,2)
+    
+    totalAssets='资产总额'
+    totalAssetsValue=round(fs1['资产总计'].values[0] / yi,1)
+    tatValue=round(salesValue / totalAssetsValue *100,2)
+    emValue=round(totalAssetsValue / totalOEValue,2)
+    debtRatioPct=round(totalLiabValue / totalAssetsValue *100,2)
+    roaPct=round(netProfitValue / totalAssetsValue *100,2)
+    
+    totalCosts='成本费用'
+    try:
+        totalCostsValue=round(fs1['二、营业总成本'].values[0] / yi,1)
+    except:
+        totalCostsValue=round(fs1['二、营业支出'].values[0] / yi,1)
+    
+    currentAssets='流动资产'
+    try:
+        currentAssetsValue=round(fs1['流动资产合计'].values[0] / yi,1)
+    except:
+        try:
+            currentAssetsValue=round((fs1['现金及存放中央银行款项'].values[0] \
+                                    + fs1['存放同业款项'].values[0] \
+                                    + fs1['拆出资金'].values[0] \
+                                    + fs1['贵金属'].values[0] \
+                                    + fs1['交易性金融资产'].values[0] \
+                                    + fs1['衍生金融工具资产'].values[0] \
+                                    + fs1['买入返售金融资产'].values[0] \
+                                    + fs1['应收利息'].values[0] \
+                                    )/ yi,1)
+        except:
+            currentAssetsValue=round((fs1['货币资金'].values[0] \
+                                    + fs1['拆出资金'].values[0] \
+                                    + fs1['交易性金融资产'].values[0] \
+                                    + fs1['衍生金融资产'].values[0] \
+                                    + fs1['买入返售金融资产'].values[0] \
+                                    + fs1['应收保费'].values[0] \
+                                    + fs1['应收利息'].values[0] \
+                                    + fs1['应收分保账款'].values[0] \
+                                    + fs1['应收分保未到期责任准备金'].values[0] \
+                                    + fs1['应收分保未决赔款准备金'].values[0] \
+                                    + fs1['应收分保寿险责任准备金'].values[0] \
+                                    + fs1['应收分保长期健康险责任准备金'].values[0] \
+                                    )/ yi,1)
+        
+    LTAssets='非流动资产'
+    try:
+        LTAssetsValue=round(fs1['非流动资产合计'].values[0] / yi,1)
+    except:
+        try:
+            LTAssetsValue=round((fs1['发放贷款及垫款'].values[0] \
+                               + fs1['代理业务资产'].values[0] \
+                               + fs1['可供出售金融资产'].values[0] \
+                               + fs1['持有至到期投资'].values[0] \
+                               + fs1['长期股权投资'].values[0] \
+                               + fs1['应收投资款项'].values[0] \
+                               + fs1['固定资产合计'].values[0] \
+                               + fs1['无形资产'].values[0] \
+                               + fs1['商誉'].values[0] \
+                               + fs1['递延税款借项'].values[0] \
+                               + fs1['投资性房地产'].values[0] \
+                               + fs1['其他资产'].values[0] \
+                                    )/ yi,1)
+        except:
+            LTAssetsValue=round((fs1['保户质押贷款'].values[0] \
+                               + fs1['存出资本保证金'].values[0] \
+                               + fs1['可供出售金融资产'].values[0] \
+                               + fs1['持有至到期投资'].values[0] \
+                               + fs1['长期股权投资'].values[0] \
+                               + fs1['应收款项类投资'].values[0] \
+                               + fs1['固定资产'].values[0] \
+                               + fs1['无形资产'].values[0] \
+                               + fs1['商誉'].values[0] \
+                               + fs1['独立账户资产'].values[0] \
+                               + fs1['递延所得税资产'].values[0] \
+                               + fs1['投资性房地产'].values[0] \
+                               + fs1['定期存款'].values[0] \
+                               + fs1['其他资产'].values[0] \
+                                    )/ yi,1)
+            
+    salesCosts='营业\\n成本'
+    try:
+        salesCostsValue=round(fs1['营业成本'].values[0] / yi,1)
+    except:
+        salesCostsValue=round(fs1['二、营业支出'].values[0] / yi,1)
+    
+    periodExpenses='期间\\n费用'
+    salesExpenses='销售\\n费用'
+    try:
+        salesExpensesValue=round(fs1['销售费用'].values[0] / yi,1)
+    except:
+        salesExpensesValue=0.0
+    
+    mgmtExpenses='管理\\n费用'
+    try:
+        mgmtExpensesValue=round(fs1['管理费用'].values[0] / yi,1)
+    except:
+        mgmtExpensesValue=round(fs1['业务及管理费用'].values[0] / yi,1)
+    
+    rndExpenses='研发\\n费用'
+    rndExpensesValue=round(fs1['研发费用'].values[0] / yi,1)
+    """
+    #是否中国股票
+    result,prefix,suffix=split_prefix_suffix(ticker)
+    if not (suffix in STOCK_SUFFIX_CHINA):
+        print("  #Error(dupont_decompose_china): not a stock in China",ticker)
+        return None        
+    
+    #财务报告摘要
+    try:
+        fsabs = ak.stock_financial_abstract(prefix)
+    except:
+        print("  #Warning(dupont_decompose_china): financial summary not found for",ticker)
+        return None
+    """
+    financialExpenses='利息\\n费用'
+    try:
+        financialExpensesValue=round((fs1['应付利息'].values[0])/ yi,1)
+    except:
+        financialExpensesValue=round(fs1['应付利息'].values[0] / yi,1)
+    
+    taxExpenses='税金'
+    try:
+        taxExpensesValue=round((fs1['营业税金及附加'].values[0] + fs1['减：所得税费用'].values[0]) / yi,1)
+    except:
+        try:
+            taxExpensesValue=round((fs1['营业税金及附加'].values[0] + fs1['减:所得税'].values[0]) / yi,1)
+        except:
+            taxExpensesValue=round((fs1['营业税金及附加'].values[0] + fs1['减:所得税费用'].values[0]) / yi,1)
+        
+    """
+    otherExpenses='其他支出'
+    otherExpensesVaue=round((fs1['开发支出'].values[0] + fs1['减：营业外支出'].values[0]) / yi,1)
+    """
+    monetaryFunds='货币\\n资金'
+    try:
+        monetaryFundsValue=round(fs1['货币资金'].values[0] / yi,1)
+    except:
+        monetaryFundsValue=round(fs1['现金及存放中央银行款项'].values[0] / yi,1)
+    
+    securityAssets='金融\\n资产'
+    try:
+        securityAssetsValue=round((fs1['交易性金融资产'].values[0] + \
+                                   fs1['衍生金融资产'].values[0] + \
+                                   fs1['买入返售金融资产'].values[0]) / yi,1)
+    except:
+        securityAssetsValue=round((fs1['交易性金融资产'].values[0] + \
+                                   fs1['衍生金融工具资产'].values[0] + \
+                                   fs1['买入返售金融资产'].values[0]) / yi,1)
+        
+    ar_prepaid='应收\\n与\\n预付'
+    accountReceivables='应收\\n款项'
+    try:
+        accountReceivablesValue=round((fs1['应收票据及应收账款'].values[0] + fs1['其他应收款(合计)'].values[0]) / yi,1)  
+    except:
+        try:
+            accountReceivablesValue=round((fs1['应收保费'].values[0] + \
+                                           fs1['应收利息'].values[0] + \
+                                           fs1['应收分保账款'].values[0] + \
+                                           fs1['应收分保未到期责任准备金'].values[0] + \
+                                           fs1['应收分保未决赔款准备金'].values[0] + \
+                                           fs1['应收分保寿险责任准备金'].values[0] + \
+                                           fs1['应收分保长期健康险责任准备金'].values[0]) / yi,1)
+        except:    
+            accountReceivablesValue=round((fs1['应收利息'].values[0] + \
+                                           fs1['应收投资款项'].values[0]) / yi,1)
+    
+    prepaid='预付\\n款项'
+    try:
+        prepaidValue=round(fs1['预付款项'].values[0] / yi,1)
+    except:
+        prepaidValue=0.0
+    
+    inventory='存货'
+    try:
+        inventoryValue=round(fs1['存货'].values[0] / yi,1)
+    except:
+        inventoryValue=0.0
+    
+    otherCurrentAssets='其他\\n流动\\n资产'
+    try:
+        otherCurrentAssetsValue=round(fs1['其他流动资产'].values[0] / yi,1)
+    except:
+        otherCurrentAssetsValue=0.0
+    
+    fixedAssets='固定\\n资产'
+    try:
+        fixedAssetsValue=round(fs1['固定资产及清理(合计)'].values[0] / yi,1)
+    except:
+        try:
+            fixedAssetsValue=round(fs1['固定资产合计'].values[0] / yi,1)
+        except:
+            fixedAssetsValue=round(fs1['固定资产'].values[0] / yi,1)
+    
+    LTInvestment='长期\\n投资'
+    try:
+        LTInvestmentValue=round((fs1['发放贷款及垫款'].values[0] + \
+                            fs1['可供出售金融资产'].values[0] + \
+                            fs1['持有至到期投资'].values[0] + \
+                           #fs1['长期应收款'].values[0] + \
+                            fs1['长期股权投资'].values[0] + \
+                            fs1['投资性房地产'].values[0] + \
+                            fs1['在建工程(合计)'].values[0]) / yi,1)
+    except:
+        try:
+            LTInvestmentValue=round((fs1['发放贷款及垫款'].values[0] + \
+                                fs1['可供出售金融资产'].values[0] + \
+                                fs1['持有至到期投资'].values[0] + \
+                               #fs1['长期应收款'].values[0] + \
+                                fs1['长期股权投资'].values[0] + \
+                                fs1['投资性房地产'].values[0]) / yi,1)
+        except:
+            LTInvestmentValue=round((fs1['保户质押贷款'].values[0] + \
+                                     fs1['可供出售金融资产'].values[0] + \
+                                     fs1['持有至到期投资'].values[0] + \
+                                     fs1['长期股权投资'].values[0] + \
+                                     fs1['投资性房地产'].values[0]) / yi,1)
+            
+    intangibleAssets='无形\\n资产'
+    intangibleAssetsValue=round(fs1['无形资产'].values[0] / yi,1)
+    
+    deferredAssets='递延\\n资产'
+    try:
+        deferredAssetsValue=round(fs1['递延所得税资产'].values[0] / yi,1)
+    except:
+        deferredAssetsValue=round(fs1['递延税款借项'].values[0] / yi,1)
+    
+    goodwill='商誉'
+    goodwillValue=round(fs1['商誉'].values[0] / yi,1)
+
+    #合成具体的分解项目
+    roe=roe+'\n'+str(roePct)+'%'
+    roa=roa+'\n'+str(roaPct)+'%'
+    em=em+'\n'+str(emValue)
+    pm=pm+'\n'+str(pmPct)+'%'
+    tat=tat+'\n'+str(tatValue)
+
+    netProfit=netProfit+'\n'+str(netProfitValue)
+    totalAssets=totalAssets+'\n'+str(totalAssetsValue)
+    totalCosts=totalCosts+'\n'+str(totalCostsValue)
+    sales=sales+'\n'+str(salesValue)
+    currentAssets=currentAssets+'\n'+str(currentAssetsValue)
+    LTAssets=LTAssets+'\n'+str(LTAssetsValue)
+    
+    salesCosts=salesCosts+'\n'+str(salesCostsValue)
+    taxExpenses=taxExpenses+'\n'+str(taxExpensesValue)
+    
+    salesExpenses=salesExpenses+'\n'+str(salesExpensesValue)
+    mgmtExpenses=mgmtExpenses+'\n'+str(mgmtExpensesValue)
+    financialExpenses=financialExpenses+'\n'+str(financialExpensesValue)
+    rndExpenses=rndExpenses+'\n'+str(rndExpensesValue)
+
+    monetaryFunds=monetaryFunds+'\n'+str(monetaryFundsValue)
+    securityAssets=securityAssets+'\n'+str(securityAssetsValue)
+    accountReceivables=accountReceivables+'\n'+str(accountReceivablesValue)
+    prepaid=prepaid+'\n'+str(prepaidValue)
+    inventory=inventory+'\n'+str(inventoryValue)
+
+    fixedAssets=fixedAssets+'\n'+str(fixedAssetsValue)
+    LTInvestment=LTInvestment+'\n'+str(LTInvestmentValue)
+    intangibleAssets=intangibleAssets+'\n'+str(intangibleAssetsValue)
+
+    #下面字段：“序号”、“父单位”、“父单位层级”、“子单位”、“子单位层级”、“父单位持股比例”
+    #注意：最后面的空格字段为必须，否则显示顺序不受控
+    L=[
+        [1, roe, 1, roa, 2, ' '],
+        [2, roe, 1, em, 2, ' '],
+        [3, roa, 2, pm, 3, ' '],
+        [4, roa, 2, tat, 3, ' '],
+        [5, pm, 3, netProfit, 4, ' '],
+        [6, pm, 3, sales, 4, ' '],
+        [7, netProfit, 4, sales, 5, ' '],
+        [8, netProfit, 4, totalCosts, 5, ' '],
+        [9, totalCosts, 5, salesCosts, 6, ' '],
+        
+        [10, totalCosts, 5, periodExpenses, 6, ' '],
+        [11, periodExpenses, 6, salesExpenses, 7, ' '],
+        [12, periodExpenses, 6, mgmtExpenses, 7, ' '],
+        [13, periodExpenses, 6, financialExpenses, 7, ' '],
+        [14, periodExpenses, 6, rndExpenses, 7, ' '],
+        
+        [15, totalCosts, 5, taxExpenses, 6, ' '],
+        
+        [16, tat, 3, sales, 4, ' '],
+        [17, tat, 3, totalAssets, 4, ' '],
+        [18, totalAssets, 4, currentAssets, 5, ' '],
+        [19, totalAssets, 4, LTAssets, 5, ' '],
+        
+        [20, currentAssets, 5, monetaryFunds, 6, ' '],
+        [21, currentAssets, 5, securityAssets, 6, ' '],
+        
+        [22, currentAssets, 5, ar_prepaid, 6, ' '],
+        [23, ar_prepaid, 6, accountReceivables, 7, ' '],        
+        [24, ar_prepaid, 6, prepaid, 7, ' '],
+        
+        [25, currentAssets, 5, inventory, 10, ' '],
+       #[26, currentAssets, 5, otherCurrentAssets, 11, ' '],
+        
+        [27, LTAssets, 5, fixedAssets, 6, ' '],
+        [28, LTAssets, 5, LTInvestment, 6, ' '],
+        [29, LTAssets, 5, intangibleAssets, 6, ' '],
+       #[30, LTAssets, 5, deferredAssets, 6, ' '],
+       #[31, LTAssets, 5, goodwill, 6, ' '],
+        
+    ]    
+    
+    dic={}
+    father_name_list=[]
+    child_name_list=[]
+    equity_portion_list=[]
+    for i1 in range(len(L)):
+        
+        M=L[i1]
+        father_name=M[1]
+        father_name_list.append(M[1])
+        father_layer=M[2]
+        child_name=M[3]
+        child_name_list.append(M[3])
+        child_layer=M[4]
+        equity_portion=M[5]
+        equity_portion_list.append(M[5])
+        
+        #debug使用
+        #print(i1,M,father_name,father_layer,child_name,child_layer,equity_portion)
+        
+        for x in father_name:
+            dic[father_name]=father_layer   #生成父单位名称和对应的层级（用字典考虑去重）
+        
+        for y in child_name:
+            dic[child_name]=child_layer     #将子单位名称和对应的层级也添加到字典中
+            
+    name_layer_list = sorted(dic.items(), key=lambda x: x[1]) #对字典按值（value）进行排序（默认由小到大）
+    
+    u=[]
+    for z in name_layer_list:
+        company_name=z[0]
+        layer=z[1]
+        u.append(z[1])
+    number_of_layers=max(u) #计算出层数
+    
+    from graphviz import Digraph
+    #按各公司的层数生产分层的节点：
+    g=Digraph(name=codetranslate(ticker))
+    
+    for key in dic:
+        for n in range(number_of_layers+1):
+            if dic[key]==n:
+                with g.subgraph() as layer_n:
+                    layer_n.attr(rank='same')
+                    layer_n.node(name=key,color='blue',shape='box',fontname='Microsoft YaHei',fontsize='10')
+    
+    #生产各节点间的连线：
+    for i2 in range(len(L)):
+        g.edge(father_name_list[i2],child_name_list[i2],label=equity_portion_list[i2],color='red',fontname='Microsoft Yahei')
+    
+    if gview:
+        # 分离式显示，便于多图对比
+        g.view()  
+    else:
+        # 嵌入式显示
+        display(g)
+    
+    #打印信息
+    print("\n注:",codetranslate(ticker),"\b，金额单位：亿元，财报日期:",fsdate)
+    print("1、为避免图示过大，这里未列出所有分解项目")
+    print("2、金融机构报表与普通企业结构不同，此处仅为约算")
+    print("3、应收款项包括应收账款、应收利息、应收保费以及应收票据等")
+    print("4、递延资产为递延所得税资产或借项")
+    print("5、税金包括营业税金及附加以及所得税费用")
+    print("6、此处金融资产主要为交易性金融资产、衍生金融资产和买入返售金融资产")
+    print("7、此处长期投资包括贷款及垫款、可供出售金融资产、持有至到期投资、长期股权投资、投资性房地产等")
+
+    return g
+
+if __name__=='__main__':
+    ticker="600519.SS" 
+    fsdate='2022-12-31'
+    
+    g=dupont_decompose_china(ticker,fsdate)
+
 #==============================================================================
 #==============================================================================
 #==============================================================================
```

## Comparing `siat-1.8.3.dist-info/METADATA` & `siat-1.9.dist-info/METADATA`

 * *Files 1% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: siat
-Version: 1.8.3
+Version: 1.9
 Summary: Securities Investment Analysis Tools (siat)
 Home-page: https://pypi.org/project/siat/
 Author: Prof. WANG Dehong, Business School, BFSU (北京外国语大学 国际商学院 王德宏 教授)
 Author-email: wdehong2000@163.com
 License: Copyright (C) WANG Dehong, 2023. For educational purpose only!
 Platform: UNKNOWN
 Requires-Dist: pandas-datareader
```

## Comparing `siat-1.8.3.dist-info/RECORD` & `siat-1.9.dist-info/RECORD`

 * *Files 2% similar despite different names*

```diff
@@ -30,15 +30,15 @@
 siat/esg_test.py,sha256=Z9m6GUt8O7oHZSEG9aDYpGdvvrv2AiRJdHTiU6jqmZ0,2944
 siat/fama_french.py,sha256=qDpsZOj0BLuzXXdNwJ1IPhDyNVAnTJFHqn80Hkp85ZI,47177
 siat/fama_french_test.py,sha256=M4O23lBKsJxhWHRluwCb3l7HSEn3OFTjzGMpehcevRg,4678
 siat/financial_base.py,sha256=YxNVfhbgLQ4stLojI9nklB4sdQNuROcILcO3M2uz4Gs,40695
 siat/financial_statements.py,sha256=KDUl9b92EV5IseLLnEmG3czDHAaay2SWM2MpzZXPHpk,21528
 siat/financial_statements_test.py,sha256=FLhx8JD-tVVWSBGux6AMz1jioXX4U4bp9DmgFHYXb_w,716
 siat/financials.py,sha256=4b0fJAu1Mm5aX_zCIvF01CzzBokrprQpIk1N3za1FNA,76676
-siat/financials_china.py,sha256=oQcG0m6QqMU2V98WXgqwEV99Ouf7ZGx_tqD9UpMadzs,105509
+siat/financials_china.py,sha256=FAklXVPqa8qwDWi5tlC2rRRm5v5i464y99sZJH8shso,124837
 siat/financials_china2.py,sha256=32--MBk7PBOSg7DUyxfjN63ZPEkmAsrYfuTHAenOphA,57998
 siat/financials_china2_test.py,sha256=Erz5k4LyOplBBvYls2MypuqHpVNJ3daiLdyeJezNPu0,2722
 siat/financials_china2_test2.py,sha256=C8CuYTMHN4Mhp-sTu-Bmg0zMXRCaYV6ezGDoYartRYQ,3507
 siat/financials_china2_test3.py,sha256=UXYSA80DNSPRhHpovc2MA9JkpILWMAQaRatbWCHBNPs,3118
 siat/financials_china_test.py,sha256=QS1SD_mXx4uH1Lg3gl2PmwLrvkLqkRs3e4x7SyFI_Xk,17549
 siat/financials_test.py,sha256=HJ3CPo_Xckz2wXi3AEP6ZNWCF1Duc1pLi0Y10USiImc,23829
 siat/fred_test.py,sha256=KF50ssSbsfpa_kT6iuomD0vG4eXztAcOasZxg1OGX5w,1201
@@ -93,21 +93,23 @@
 siat/stock_list_china_test.py,sha256=gv14UwMMvkZqtb6G7DCTSuehIwVHuVwu7w60p6gyHoo,1014
 siat/stock_prices_kneighbors.py,sha256=WfZvo5EyeBsm-T37zDj7Sl9dPSRq5Bx4JxIJ9IUum6s,36738
 siat/stock_prices_linear.py,sha256=-OUKRr27L2aStQgJSlJOrJ4gay_G7P-m-7t7cU2Yoqk,13991
 siat/stock_profile.py,sha256=kEoYOsHm0Kc75gEVchDbPbJNfzPvNi6QKTxMySo_2Fg,25017
 siat/stock_technical.py,sha256=MiW5LwWGBq8BqxjS8PD0wMSHPiwlIVixeeNJfq395J8,72626
 siat/stock_test.py,sha256=E9YJAvOw1VEGJSDI4IZuEjl0tGoisOIlN-g9UqA_IZE,19475
 siat/temp.py,sha256=gbJ0ioauuo4koTPH6WKUkqcXiQPafnbhU5eKJ6lpdLA,1571
+siat/test2_graphviz.py,sha256=05w2YJuIBH0LsJjdA60EFn7rL0vCo-CA6EVJEQOXNE4,16648
+siat/test_graphviz.py,sha256=CETKpDL8PnysS-PD3fHkeAgagUxjaUl0CsXPiadQySg,16999
 siat/transaction.py,sha256=foTWS1qYXQFuzNTG2m7ec6aDgsJjzpKmyAbyxKcE8KU,14492
 siat/transaction_test.py,sha256=Z8g1LJCN4-mnUByXMUMoFmN0t105cbmsz2QmvSuIkbU,18580
 siat/translate-20230125.py,sha256=NPPSXhT38s5t9fzMvl_fvi4ckSB73ThLmZetVI-xGdU,117953
 siat/translate-20230206.py,sha256=-vtI125WyaJhmPotOpDAmclt_XnYVaWU9ByLWZ6FyYE,118133
 siat/translate-20230215.py,sha256=TJgtPE3n8IjljmZ4Pefy8dmHoNdFF-1zpML6BhA9FKE,121657
 siat/translate.py,sha256=-7-R7pLutkOVur5O0ihj3-_XyoWRF2VAJRorIsiZJVQ,124748
 siat/universal_test.py,sha256=CDAOffW1Rvs-TcNN5giWVvHMlch1w4dp-w5SIV9jXL0,3936
 siat/valuation_china.py,sha256=J78FTnwyzOjNENq30MXaQdby6EtcBZi3AMeUKhGtuok,51268
 siat/valuation_market_china_test.py,sha256=gbJ0ioauuo4koTPH6WKUkqcXiQPafnbhU5eKJ6lpdLA,1571
 siat/var_model_validation.py,sha256=zB_Skk_tmzIR15l6oAW3am4HBGVIG-eZ8gJhCdXZ8Qw,14859
-siat-1.8.3.dist-info/METADATA,sha256=9-DknbuicolL6WjI6XgaguZ1zcuo1zmHm0ke1xjqJWo,1399
-siat-1.8.3.dist-info/WHEEL,sha256=ewwEueio1C2XeHTvT17n8dZUJgOvyCWCt0WVNLClP9o,92
-siat-1.8.3.dist-info/top_level.txt,sha256=r1cVyL7AIKqeAmEJjNR8FMT20OmEzufDstC2gv3NvEY,5
-siat-1.8.3.dist-info/RECORD,,
+siat-1.9.dist-info/METADATA,sha256=MEn6dabgaFdZmN6cliD1MzzAsj_9ciIMtHP_4AN2Xck,1397
+siat-1.9.dist-info/WHEEL,sha256=ewwEueio1C2XeHTvT17n8dZUJgOvyCWCt0WVNLClP9o,92
+siat-1.9.dist-info/top_level.txt,sha256=r1cVyL7AIKqeAmEJjNR8FMT20OmEzufDstC2gv3NvEY,5
+siat-1.9.dist-info/RECORD,,
```

