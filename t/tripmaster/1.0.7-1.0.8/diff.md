# Comparing `tmp/tripmaster-1.0.7-py3-none-any.whl.zip` & `tmp/tripmaster-1.0.8-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,8 +1,8 @@
-Zip file size: 139184 bytes, number of entries: 105
+Zip file size: 139293 bytes, number of entries: 105
 -rw-r--r--  2.0 unx      249 b- defN 22-Dec-23 09:48 tripmaster/__init__.py
 -rw-r--r--  2.0 unx        3 b- defN 22-Dec-23 09:48 tripmaster/core/__init__.py
 -rw-r--r--  2.0 unx        0 b- defN 22-Dec-23 09:48 tripmaster/core/app/__init__.py
 -rw-r--r--  2.0 unx     6101 b- defN 23-Apr-18 01:33 tripmaster/core/app/config.py
 -rw-r--r--  2.0 unx     2334 b- defN 23-Apr-18 01:26 tripmaster/core/app/io.py
 -rw-r--r--  2.0 unx     2678 b- defN 22-Dec-23 09:48 tripmaster/core/app/pipeline.py
 -rw-r--r--  2.0 unx     3347 b- defN 22-Dec-23 09:48 tripmaster/core/app/reinforce.py
@@ -34,15 +34,15 @@
 -rw-r--r--  2.0 unx    18840 b- defN 23-Apr-14 10:38 tripmaster/core/components/operator/supervise.py
 -rw-r--r--  2.0 unx        0 b- defN 22-Dec-23 09:48 tripmaster/core/components/operator/strategies/__init__.py
 -rw-r--r--  2.0 unx      896 b- defN 22-Dec-23 09:48 tripmaster/core/components/operator/strategies/batching.py
 -rw-r--r--  2.0 unx     1272 b- defN 22-Dec-23 09:48 tripmaster/core/components/operator/strategies/distributed.py
 -rw-r--r--  2.0 unx     1635 b- defN 22-Dec-23 09:48 tripmaster/core/components/operator/strategies/event_trigger.py
 -rw-r--r--  2.0 unx     4521 b- defN 22-Dec-23 09:48 tripmaster/core/components/operator/strategies/exploration_strategy.py
 -rw-r--r--  2.0 unx     1082 b- defN 22-Dec-23 09:48 tripmaster/core/components/operator/strategies/metric_logging.py
--rw-r--r--  2.0 unx    16929 b- defN 23-Apr-07 02:55 tripmaster/core/components/operator/strategies/model_selection.py
+-rw-r--r--  2.0 unx    17220 b- defN 23-Apr-18 03:19 tripmaster/core/components/operator/strategies/model_selection.py
 -rw-r--r--  2.0 unx     7487 b- defN 22-Dec-23 09:48 tripmaster/core/components/operator/strategies/optimization.py
 -rw-r--r--  2.0 unx        0 b- defN 22-Dec-23 09:48 tripmaster/core/concepts/__init__.py
 -rw-r--r--  2.0 unx    16055 b- defN 23-Apr-18 01:24 tripmaster/core/concepts/component.py
 -rw-r--r--  2.0 unx     5996 b- defN 22-Dec-23 09:48 tripmaster/core/concepts/contract.py
 -rw-r--r--  2.0 unx    11491 b- defN 23-Apr-17 13:42 tripmaster/core/concepts/data.py
 -rw-r--r--  2.0 unx     3670 b- defN 22-Dec-23 09:48 tripmaster/core/concepts/evaluator.py
 -rw-r--r--  2.0 unx      470 b- defN 22-Dec-23 09:48 tripmaster/core/concepts/hyper_params.py
@@ -95,13 +95,13 @@
 -rw-r--r--  2.0 unx       49 b- defN 22-Dec-23 09:48 tripmaster/utils/logging/__init__.py
 -rw-r--r--  2.0 unx     1982 b- defN 22-Dec-23 09:48 tripmaster/utils/logging/capture.py
 -rw-r--r--  2.0 unx     1369 b- defN 22-Dec-23 09:48 tripmaster/utils/logging/config.yaml
 -rw-r--r--  2.0 unx    11217 b- defN 23-Apr-12 12:44 tripmaster/utils/logging/core.py
 -rw-r--r--  2.0 unx     7389 b- defN 22-Dec-23 09:48 tripmaster/utils/logging/inspector.py
 -rw-r--r--  2.0 unx     8502 b- defN 22-Dec-23 09:48 tripmaster/utils/logging/logger.py
 -rw-r--r--  2.0 unx     3483 b- defN 22-Dec-23 09:48 tripmaster/utils/logging/logging.py
--rw-r--r--  2.0 unx    11357 b- defN 23-Apr-18 02:05 tripmaster-1.0.7.dist-info/LICENSE
--rw-r--r--  2.0 unx      879 b- defN 23-Apr-18 02:05 tripmaster-1.0.7.dist-info/METADATA
--rw-r--r--  2.0 unx       92 b- defN 23-Apr-18 02:05 tripmaster-1.0.7.dist-info/WHEEL
--rw-r--r--  2.0 unx       11 b- defN 23-Apr-18 02:05 tripmaster-1.0.7.dist-info/top_level.txt
-?rw-rw-r--  2.0 unx     9953 b- defN 23-Apr-18 02:05 tripmaster-1.0.7.dist-info/RECORD
-105 files, 515230 bytes uncompressed, 123026 bytes compressed:  76.1%
+-rw-r--r--  2.0 unx    11357 b- defN 23-Apr-18 03:34 tripmaster-1.0.8.dist-info/LICENSE
+-rw-r--r--  2.0 unx      899 b- defN 23-Apr-18 03:34 tripmaster-1.0.8.dist-info/METADATA
+-rw-r--r--  2.0 unx       92 b- defN 23-Apr-18 03:34 tripmaster-1.0.8.dist-info/WHEEL
+-rw-r--r--  2.0 unx       11 b- defN 23-Apr-18 03:34 tripmaster-1.0.8.dist-info/top_level.txt
+?rw-rw-r--  2.0 unx     9953 b- defN 23-Apr-18 03:34 tripmaster-1.0.8.dist-info/RECORD
+105 files, 515541 bytes uncompressed, 123135 bytes compressed:  76.1%
```

## zipnote {}

```diff
@@ -294,23 +294,23 @@
 
 Filename: tripmaster/utils/logging/logger.py
 Comment: 
 
 Filename: tripmaster/utils/logging/logging.py
 Comment: 
 
-Filename: tripmaster-1.0.7.dist-info/LICENSE
+Filename: tripmaster-1.0.8.dist-info/LICENSE
 Comment: 
 
-Filename: tripmaster-1.0.7.dist-info/METADATA
+Filename: tripmaster-1.0.8.dist-info/METADATA
 Comment: 
 
-Filename: tripmaster-1.0.7.dist-info/WHEEL
+Filename: tripmaster-1.0.8.dist-info/WHEEL
 Comment: 
 
-Filename: tripmaster-1.0.7.dist-info/top_level.txt
+Filename: tripmaster-1.0.8.dist-info/top_level.txt
 Comment: 
 
-Filename: tripmaster-1.0.7.dist-info/RECORD
+Filename: tripmaster-1.0.8.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## tripmaster/core/components/operator/strategies/model_selection.py

```diff
@@ -162,26 +162,34 @@
         channel = self.hyper_params.channel
         if channel not in perf:
             raise Exception(f"the channel {channel} not in evaluation metrics {perf.keys()}")
 
         perf = perf[self.hyper_params.channel]
 
         metric = self.hyper_params.metric
-        if self.hyper_params.metric not in perf:
-            raise Exception(f"the metric {metric} not in evaluation metrics {perf.keys()}")
+        if isinstance(metric, str):
+            metric = (metric, )
+        assert isinstance(metric, (tuple, list))
+
+        assert all(m in perf for m in self.hyper_params.metric), \
+            f"the metric {metric} not in evaluation metrics {perf.keys()}"
+
+        if isinstance(self.cur_best_perf, float):
+            self.cur_best_perf = tuple([self.cur_best_perf] * len(metric))
 
         if result.local_rank == 0:
             import os
-            if self.better_func(perf[metric], self.cur_best_perf):
+            cur_perf = tuple(perf[m] for m in metric)
+            if self.better_func(cur_perf, self.cur_best_perf):
 
                 if self.prev_model_name:
                     os.remove(self.prev_model_name + ".model.pt")
                 #    os.remove(self.prev_model_name + ".trainer.pt")
 
-                self.cur_best_perf = perf[metric]
+                self.cur_best_perf = cur_perf
 
                 logger.warning(f"better model found with performance {metric} = {self.cur_best_perf}, saving... ")
 
                 model_info = SelectedModelInfo(
                     prefix=self.hyper_params.prefix,
                     stage=self.hyper_params.stage,
                     metric=self.hyper_params.metric,
```

## Comparing `tripmaster-1.0.7.dist-info/LICENSE` & `tripmaster-1.0.8.dist-info/LICENSE`

 * *Files identical despite different names*

## Comparing `tripmaster-1.0.7.dist-info/METADATA` & `tripmaster-1.0.8.dist-info/METADATA`

 * *Files 13% similar despite different names*

```diff
@@ -1,16 +1,17 @@
 Metadata-Version: 2.1
 Name: tripmaster
-Version: 1.0.7
+Version: 1.0.8
 Summary: A High Level Framework for Deep Learning App and Pipelines for Paddle.
 Home-page: https://github.com/baidu-research/tripmaster
 Author: Mingming Sun
 Author-email: sunmingming01@baidu.com
 License: Apache
 Keywords: Deep Learning,Framework,Pipelines
+Platform: UNKNOWN
 Description-Content-Type: text/markdown
 License-File: LICENSE
 Requires-Dist: addict (>=2.4.0)
 Requires-Dist: bidict (>=0.21.4)
 Requires-Dist: more-itertools (>=8.12.0)
 Requires-Dist: networkx (>=2.6.3)
 Requires-Dist: port-for (>=0.6.1)
@@ -28,7 +29,9 @@
 ```
 
 ## Document
 
 * [Tutorial](docs/tutorial.md)
 * [Design Principles](docs/design.md)
 * [User's Guidance](docs/user_guidance.md)
+
+
```

## Comparing `tripmaster-1.0.7.dist-info/RECORD` & `tripmaster-1.0.8.dist-info/RECORD`

 * *Files 4% similar despite different names*

```diff
@@ -33,15 +33,15 @@
 tripmaster/core/components/operator/supervise.py,sha256=vZxTvawCqzOusl_ChNeoYOKLEAuiQfQlg8ssIeJa3PM,18840
 tripmaster/core/components/operator/strategies/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 tripmaster/core/components/operator/strategies/batching.py,sha256=5u9BfUzeqadfdUNtgAypjlnVOTwXEErKYD3New1cwXc,896
 tripmaster/core/components/operator/strategies/distributed.py,sha256=XuJ9PsRLNa5sm3erklsuAcX_Disulf0XhnhYX-rXEyk,1272
 tripmaster/core/components/operator/strategies/event_trigger.py,sha256=XJ_RbSqF3AzkeA-rfB5Idh3xffPPBDy5HH01Uzx44j8,1635
 tripmaster/core/components/operator/strategies/exploration_strategy.py,sha256=Ay-_m7KDW8QXR2pKiV66qR_jGyNhB7lPT7DgXEnXgwU,4521
 tripmaster/core/components/operator/strategies/metric_logging.py,sha256=P6GDPJKlf8nIg5PrMNTDawWSqST6aFwceYvFSKjfFMU,1082
-tripmaster/core/components/operator/strategies/model_selection.py,sha256=CvXKhxBNWX9xmkTKFxzCdeBnwFR_qWI5IMCN64bf_nI,16929
+tripmaster/core/components/operator/strategies/model_selection.py,sha256=TahEtpoU2SweO-pkJsyr_Tul-kaEamxWr86R7fbW2FQ,17220
 tripmaster/core/components/operator/strategies/optimization.py,sha256=HetJg2XPZhifxmHLXrRKTH7f80JXcYZq5oWcEwX_j3c,7487
 tripmaster/core/concepts/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 tripmaster/core/concepts/component.py,sha256=KDn3_qW1vPI3w9m1XYywdFv4kaXwbUvG2m080k6RYhI,16055
 tripmaster/core/concepts/contract.py,sha256=l9csDtejpUSdd_6DvQ7voWe8KiVptYtfzSxat2YvJGE,5996
 tripmaster/core/concepts/data.py,sha256=Gh7BVhN-NRIN8ci_VRfu0fFGFSztcBIjcMwZrdz7Cfg,11491
 tripmaster/core/concepts/evaluator.py,sha256=uPfykwCHquBsSxEh6ee5tjtEQU7YXCElitcpJfRfFVI,3670
 tripmaster/core/concepts/hyper_params.py,sha256=SqEwvNiWAt2FMD1e4_XmkZBifzzAAvXcaztY8_bU0Hc,470
@@ -94,12 +94,12 @@
 tripmaster/utils/logging/__init__.py,sha256=wcvOBO8BH8xNs0KiMp1foAsu5wEh5PJKaS2z4fLJgjY,49
 tripmaster/utils/logging/capture.py,sha256=PpB759dRHLOUDNCJQxw1_aBPYrOTl78frnDDJVltR-k,1982
 tripmaster/utils/logging/config.yaml,sha256=IApV4PVZYOmxP_tpqM5DAL-IAngkc7RslwsvDbJ2i0w,1369
 tripmaster/utils/logging/core.py,sha256=wPOX9boLYlhh3NOxtgP9MpOgtuRK4mwOBigQBDTEx9c,11217
 tripmaster/utils/logging/inspector.py,sha256=cl7_P1mMJdpnugebK5tyNjv8DBaGpb3xsK3ynB3Zuog,7389
 tripmaster/utils/logging/logger.py,sha256=paz1R6JYp7cz6IoOMcbm7JRYXIj0-aRIvoOQaVpINiw,8502
 tripmaster/utils/logging/logging.py,sha256=NNFjOQpOlQzczetyj8MIxqayaWZyEW731vDimKBUNc4,3483
-tripmaster-1.0.7.dist-info/LICENSE,sha256=xx0jnfkXJvxRnG63LTGOxlggYnIysveWIZ6H3PNdCrQ,11357
-tripmaster-1.0.7.dist-info/METADATA,sha256=6Oj24U9Px1zb4C8NNUqv9mClnLz7V8mvfk49nBfZJzc,879
-tripmaster-1.0.7.dist-info/WHEEL,sha256=2wepM1nk4DS4eFpYrW1TTqPcoGNfHhhO_i5m4cOimbo,92
-tripmaster-1.0.7.dist-info/top_level.txt,sha256=maHIEfa7B54A9-_P0yed19EnIuL2hK_QI3vWPHPlDoI,11
-tripmaster-1.0.7.dist-info/RECORD,,
+tripmaster-1.0.8.dist-info/LICENSE,sha256=xx0jnfkXJvxRnG63LTGOxlggYnIysveWIZ6H3PNdCrQ,11357
+tripmaster-1.0.8.dist-info/METADATA,sha256=URoFDF1V5bPUoO7rpBsY2l1BX3gVN-CJEVaWA09DhHE,899
+tripmaster-1.0.8.dist-info/WHEEL,sha256=ewwEueio1C2XeHTvT17n8dZUJgOvyCWCt0WVNLClP9o,92
+tripmaster-1.0.8.dist-info/top_level.txt,sha256=maHIEfa7B54A9-_P0yed19EnIuL2hK_QI3vWPHPlDoI,11
+tripmaster-1.0.8.dist-info/RECORD,,
```

