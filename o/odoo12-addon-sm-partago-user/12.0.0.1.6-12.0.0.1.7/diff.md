# Comparing `tmp/odoo12_addon_sm_partago_user-12.0.0.1.6-py2.py3-none-any.whl.zip` & `tmp/odoo12_addon_sm_partago_user-12.0.0.1.7-py2.py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,42 +1,42 @@
-Zip file size: 41949 bytes, number of entries: 40
+Zip file size: 42147 bytes, number of entries: 40
 -rw-r--r--  2.0 unx       46 b- defN 23-Feb-15 13:35 odoo/addons/sm_partago_user/__init__.py
--rw-r--r--  2.0 unx     1251 b- defN 23-Mar-03 16:45 odoo/addons/sm_partago_user/__manifest__.py
+-rw-r--r--  2.0 unx     1251 b- defN 23-Apr-18 10:23 odoo/addons/sm_partago_user/__manifest__.py
 -rw-r--r--  2.0 unx     1299 b- defN 22-Jun-28 13:09 odoo/addons/sm_partago_user/email_tmpl/cs_access_requested.xml
 -rw-r--r--  2.0 unx     1943 b- defN 22-Jun-28 13:09 odoo/addons/sm_partago_user/email_tmpl/cs_company_access_requested.xml
 -rw-r--r--  2.0 unx     1359 b- defN 22-Jun-28 13:09 odoo/addons/sm_partago_user/email_tmpl/cs_complete_data_soci_not_found_email.xml
 -rw-r--r--  2.0 unx     1075 b- defN 22-Jun-28 13:09 odoo/addons/sm_partago_user/email_tmpl/cs_complete_data_successful_email.xml
 -rw-r--r--  2.0 unx     1435 b- defN 22-Jun-28 13:09 odoo/addons/sm_partago_user/email_tmpl/cs_email_already_active.xml
 -rw-r--r--  2.0 unx     1362 b- defN 22-Jun-28 13:09 odoo/addons/sm_partago_user/email_tmpl/cs_missing_data_email.xml
--rw-r--r--  2.0 unx      517 b- defN 23-Feb-15 15:43 odoo/addons/sm_partago_user/models/__init__.py
--rw-r--r--  2.0 unx    14855 b- defN 23-Mar-03 16:42 odoo/addons/sm_partago_user/models/models_carsharing_update_data.py
--rw-r--r--  2.0 unx    24086 b- defN 23-Mar-03 16:44 odoo/addons/sm_partago_user/models/models_carsharing_user_request.py
--rw-r--r--  2.0 unx      468 b- defN 23-Mar-03 16:42 odoo/addons/sm_partago_user/models/models_cs_task.py
--rw-r--r--  2.0 unx      720 b- defN 23-Mar-03 16:42 odoo/addons/sm_partago_user/models/models_sm_company.py
--rw-r--r--  2.0 unx    21382 b- defN 23-Mar-03 16:42 odoo/addons/sm_partago_user/models/models_sm_member.py
--rw-r--r--  2.0 unx     2452 b- defN 23-Mar-03 16:42 odoo/addons/sm_partago_user/models/models_sm_member_csgroup.py
--rw-r--r--  2.0 unx      966 b- defN 23-Mar-03 16:42 odoo/addons/sm_partago_user/models/models_sm_res_config_settings.py
--rw-r--r--  2.0 unx    24142 b- defN 23-Mar-03 16:42 odoo/addons/sm_partago_user/models/models_smp_carsharing_registration_request.py
--rw-r--r--  2.0 unx     1741 b- defN 23-Feb-15 15:43 odoo/addons/sm_partago_user/models/models_smp_carsharing_registration_wizard.py
+-rw-r--r--  2.0 unx      517 b- defN 23-Mar-17 16:31 odoo/addons/sm_partago_user/models/__init__.py
+-rw-r--r--  2.0 unx    14855 b- defN 23-Mar-17 16:31 odoo/addons/sm_partago_user/models/models_carsharing_update_data.py
+-rw-r--r--  2.0 unx    25532 b- defN 23-Apr-18 09:38 odoo/addons/sm_partago_user/models/models_carsharing_user_request.py
+-rw-r--r--  2.0 unx      468 b- defN 23-Mar-17 16:31 odoo/addons/sm_partago_user/models/models_cs_task.py
+-rw-r--r--  2.0 unx      720 b- defN 23-Mar-17 16:31 odoo/addons/sm_partago_user/models/models_sm_company.py
+-rw-r--r--  2.0 unx    21382 b- defN 23-Mar-17 16:31 odoo/addons/sm_partago_user/models/models_sm_member.py
+-rw-r--r--  2.0 unx     2452 b- defN 23-Mar-17 16:31 odoo/addons/sm_partago_user/models/models_sm_member_csgroup.py
+-rw-r--r--  2.0 unx      966 b- defN 23-Mar-17 16:31 odoo/addons/sm_partago_user/models/models_sm_res_config_settings.py
+-rw-r--r--  2.0 unx    24142 b- defN 23-Mar-17 16:31 odoo/addons/sm_partago_user/models/models_smp_carsharing_registration_request.py
+-rw-r--r--  2.0 unx     1741 b- defN 23-Mar-17 16:31 odoo/addons/sm_partago_user/models/models_smp_carsharing_registration_wizard.py
 -rw-r--r--  2.0 unx      383 b- defN 22-Dec-16 09:52 odoo/addons/sm_partago_user/models/models_smp_carsharing_tariff.py
--rw-r--r--  2.0 unx     1190 b- defN 23-Feb-15 15:43 odoo/addons/sm_partago_user/models/models_smp_change_email_wizard.py
--rw-r--r--  2.0 unx     1947 b- defN 23-Feb-15 15:43 odoo/addons/sm_partago_user/models/models_smp_user_cron.py
--rw-r--r--  2.0 unx     1870 b- defN 23-Feb-15 15:43 odoo/addons/sm_partago_user/models/models_smp_user_utils.py
+-rw-r--r--  2.0 unx     1190 b- defN 23-Mar-17 16:31 odoo/addons/sm_partago_user/models/models_smp_change_email_wizard.py
+-rw-r--r--  2.0 unx     1947 b- defN 23-Mar-17 16:31 odoo/addons/sm_partago_user/models/models_smp_user_cron.py
+-rw-r--r--  2.0 unx     1870 b- defN 23-Mar-17 16:31 odoo/addons/sm_partago_user/models/models_smp_user_utils.py
 -rw-r--r--  2.0 unx      815 b- defN 23-Jan-11 10:56 odoo/addons/sm_partago_user/security/ir.model.access.csv
 -rw-r--r--  2.0 unx      134 b- defN 22-Jun-28 13:09 odoo/addons/sm_partago_user/views/views.xml
 -rw-r--r--  2.0 unx     4882 b- defN 22-Nov-22 08:38 odoo/addons/sm_partago_user/views/views_carsharing_update_data.xml
 -rw-r--r--  2.0 unx     6240 b- defN 23-Jan-11 10:56 odoo/addons/sm_partago_user/views/views_carsharing_user_request.xml
 -rw-r--r--  2.0 unx      951 b- defN 22-Sep-06 14:03 odoo/addons/sm_partago_user/views/views_change_email_wizard.xml
 -rw-r--r--  2.0 unx     2943 b- defN 23-Jan-11 10:56 odoo/addons/sm_partago_user/views/views_cron.xml
 -rw-r--r--  2.0 unx     4069 b- defN 23-Jan-11 10:56 odoo/addons/sm_partago_user/views/views_cs_registration_request.xml
 -rw-r--r--  2.0 unx     1099 b- defN 22-Sep-06 14:03 odoo/addons/sm_partago_user/views/views_cs_registration_wizard.xml
--rw-r--r--  2.0 unx      765 b- defN 23-Mar-03 16:42 odoo/addons/sm_partago_user/views/views_cs_task.xml
+-rw-r--r--  2.0 unx      765 b- defN 23-Mar-17 16:31 odoo/addons/sm_partago_user/views/views_cs_task.xml
 -rw-r--r--  2.0 unx     1442 b- defN 22-Sep-06 14:03 odoo/addons/sm_partago_user/views/views_db.xml
 -rw-r--r--  2.0 unx     2142 b- defN 22-Nov-09 10:53 odoo/addons/sm_partago_user/views/views_member_cs_groups.xml
 -rw-r--r--  2.0 unx     9209 b- defN 23-Feb-24 15:17 odoo/addons/sm_partago_user/views/views_members.xml
--rw-r--r--  2.0 unx     1119 b- defN 23-Mar-03 16:42 odoo/addons/sm_partago_user/views/views_res_config_settings.xml
+-rw-r--r--  2.0 unx     1119 b- defN 23-Mar-17 16:31 odoo/addons/sm_partago_user/views/views_res_config_settings.xml
 -rw-r--r--  2.0 unx      552 b- defN 22-Dec-16 09:52 odoo/addons/sm_partago_user/views/views_tariff.xml
--rw-r--r--  2.0 unx      526 b- defN 23-Mar-03 16:50 odoo12_addon_sm_partago_user-12.0.0.1.6.dist-info/METADATA
--rw-r--r--  2.0 unx      110 b- defN 23-Mar-03 16:50 odoo12_addon_sm_partago_user-12.0.0.1.6.dist-info/WHEEL
--rw-r--r--  2.0 unx        5 b- defN 23-Mar-03 16:50 odoo12_addon_sm_partago_user-12.0.0.1.6.dist-info/top_level.txt
-?rw-rw-r--  2.0 unx     4623 b- defN 23-Mar-03 16:50 odoo12_addon_sm_partago_user-12.0.0.1.6.dist-info/RECORD
-40 files, 148115 bytes uncompressed, 34067 bytes compressed:  77.0%
+-rw-r--r--  2.0 unx      526 b- defN 23-Apr-18 10:28 odoo12_addon_sm_partago_user-12.0.0.1.7.dist-info/METADATA
+-rw-r--r--  2.0 unx      110 b- defN 23-Apr-18 10:28 odoo12_addon_sm_partago_user-12.0.0.1.7.dist-info/WHEEL
+-rw-r--r--  2.0 unx        5 b- defN 23-Apr-18 10:28 odoo12_addon_sm_partago_user-12.0.0.1.7.dist-info/top_level.txt
+?rw-rw-r--  2.0 unx     4623 b- defN 23-Apr-18 10:28 odoo12_addon_sm_partago_user-12.0.0.1.7.dist-info/RECORD
+40 files, 149561 bytes uncompressed, 34265 bytes compressed:  77.1%
```

## zipnote {}

```diff
@@ -102,20 +102,20 @@
 
 Filename: odoo/addons/sm_partago_user/views/views_res_config_settings.xml
 Comment: 
 
 Filename: odoo/addons/sm_partago_user/views/views_tariff.xml
 Comment: 
 
-Filename: odoo12_addon_sm_partago_user-12.0.0.1.6.dist-info/METADATA
+Filename: odoo12_addon_sm_partago_user-12.0.0.1.7.dist-info/METADATA
 Comment: 
 
-Filename: odoo12_addon_sm_partago_user-12.0.0.1.6.dist-info/WHEEL
+Filename: odoo12_addon_sm_partago_user-12.0.0.1.7.dist-info/WHEEL
 Comment: 
 
-Filename: odoo12_addon_sm_partago_user-12.0.0.1.6.dist-info/top_level.txt
+Filename: odoo12_addon_sm_partago_user-12.0.0.1.7.dist-info/top_level.txt
 Comment: 
 
-Filename: odoo12_addon_sm_partago_user-12.0.0.1.6.dist-info/RECORD
+Filename: odoo12_addon_sm_partago_user-12.0.0.1.7.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## odoo/addons/sm_partago_user/__manifest__.py

```diff
@@ -9,15 +9,15 @@
     'description': """
     Handles all carsharing user related data and actions
   """,
 
     'author': "Som Mobilitat",
     'website': "http://www.sommobilitat.coop",
     'category': 'vertical-carsharing',
-    'version': '12.0.0.1.6',
+    'version': '12.0.0.1.7',
 
     # any module necessary for this one to work correctly
     'depends': ['base', 'vertical_carsharing', 'sm_partago_db'],
 
     # always loaded
     'data': [
         'email_tmpl/cs_complete_data_soci_not_found_email.xml',
```

## odoo/addons/sm_partago_user/models/models_carsharing_user_request.py

```diff
@@ -448,14 +448,46 @@
 
     def _valid_cs_user_status(self):
         if self.cs_user_status != 'blocked_banned':
             return True
         return False
 
     def _create_tariffs_elprat(self):
+        # TODO: Here there are some hardcoded params.
+        # Warning need to find a better way.
+        related_tariffs = []
+        existing_tariffs = self.env['smp.sm_carsharing_tariff'].search([
+            ('tariff_type', '=', 'rel_car_group'),
+            ('related_tariff_group_id', '=', 1),
+            ('related_member_id', '=', self.related_member_id.id)
+        ])
+        if not existing_tariffs:
+            tariff = sm_utils.get_create_existing_model(
+                self.env['smp.sm_carsharing_tariff'],
+                [
+                    ('tariff_type', '=', 'rel_car_group'),
+                    ('related_tariff_group_id', '=', 1),
+                    ('related_carsharing_user_request_id', '=', self.id)
+                ],
+                {
+                    'name': 'El Prat Reduced',
+                    'reason': 'El Prat registration',
+                    'date': str(datetime.now()),
+                    'date_active': str(datetime.now()),
+                    'tariff_model_id': 21,
+                    'related_tariff_group_id': 1,
+                    'description': '<p>El Prat (-30% de la Tarifa Base actual de Som Mobilitat)</p>',
+                    'tariff_type': 'rel_car_group',
+                    'related_carsharing_user_request_id': self.id
+                }
+            )
+            related_tariffs.append(tariff)
+        return related_tariffs
+
+    def _create_tariffs_elprat_relcar_startegy(self):
         tariff_carconfig_refs = [
             "-NEaGmPikt94k4-tVeMf",
             "-NEaH13UfkepEulYY8MF",
             "-NEaHDv7AALG-9aoqdlo",
             "-NEaGUDMAHpRbKICmhUh",
             "-NEaFhhNSV6PTDz0Sf0q",
             "-NEaG86OLlRidau4UnG4",
```

## Comparing `odoo12_addon_sm_partago_user-12.0.0.1.6.dist-info/METADATA` & `odoo12_addon_sm_partago_user-12.0.0.1.7.dist-info/METADATA`

 * *Files 22% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: odoo12-addon-sm-partago-user
-Version: 12.0.0.1.6
+Version: 12.0.0.1.7
 Summary: Handles all carsharing user related data and actions
 Home-page: http://www.sommobilitat.coop
 Author: Som Mobilitat
 Classifier: Programming Language :: Python
 Classifier: Framework :: Odoo
 Classifier: Framework :: Odoo :: 12.0
 Requires-Python: >=3.5
```

## Comparing `odoo12_addon_sm_partago_user-12.0.0.1.6.dist-info/RECORD` & `odoo12_addon_sm_partago_user-12.0.0.1.7.dist-info/RECORD`

 * *Files 4% similar despite different names*

```diff
@@ -1,18 +1,18 @@
 odoo/addons/sm_partago_user/__init__.py,sha256=Ax4qLxdb9ATk05MF7cSQ0BdpYCpGVYFy9n4U4zODf9o,46
-odoo/addons/sm_partago_user/__manifest__.py,sha256=qHoRYoLkRs9OBSkH_hSiF3fxth-BOXB2blUu5cJfXeY,1251
+odoo/addons/sm_partago_user/__manifest__.py,sha256=xeP1IMdcaf4jW_HT-TkuAOm5GccBDljxSTgBhz2ZpX8,1251
 odoo/addons/sm_partago_user/email_tmpl/cs_access_requested.xml,sha256=bc7nYm8cq3QPMW7Xv7XLtAlZCDPKgKwgl4rc8XYT7lY,1299
 odoo/addons/sm_partago_user/email_tmpl/cs_company_access_requested.xml,sha256=59260_mwiGHQ8Sd6zkT3_McGppGbqJM-9dbNZBBe1PI,1943
 odoo/addons/sm_partago_user/email_tmpl/cs_complete_data_soci_not_found_email.xml,sha256=IsO5QPY-zqq9K5cr89wCFskM03CRz93MDr-xnPq4xlw,1359
 odoo/addons/sm_partago_user/email_tmpl/cs_complete_data_successful_email.xml,sha256=SFsJb3q7RXvb4gse_bShYcV4laeG2UVfaxevCZEv7N0,1075
 odoo/addons/sm_partago_user/email_tmpl/cs_email_already_active.xml,sha256=bJ1r9V22U40kxByjZBQ4Z8THjLCqh9Q184tol1usIyE,1435
 odoo/addons/sm_partago_user/email_tmpl/cs_missing_data_email.xml,sha256=mfmm0izwQgwrJPqlK2f0DjEHxAm2buNyBrq0Cz-LKtg,1362
 odoo/addons/sm_partago_user/models/__init__.py,sha256=dYzfpxFJzMZMKyBy8iafUU4SaPq9Gh6U71Yu6sExEQc,517
 odoo/addons/sm_partago_user/models/models_carsharing_update_data.py,sha256=jwbH2eU9FNBMzNsRiJnP_Q73bTyiL6-knPccVNce0G8,14855
-odoo/addons/sm_partago_user/models/models_carsharing_user_request.py,sha256=9i46HPJIVCZkLq-8BC9TbXyoStrHRHAPbm1WD7Krepg,24086
+odoo/addons/sm_partago_user/models/models_carsharing_user_request.py,sha256=egIYWKe3HhOsKzeq-vv19mtPa5CtzXRxX8dDsSyanFI,25532
 odoo/addons/sm_partago_user/models/models_cs_task.py,sha256=r8yMj0IimYzNyARIDD_jlWmYrHHmmujVArrJ-ZFastM,468
 odoo/addons/sm_partago_user/models/models_sm_company.py,sha256=a8V0UbjOzoB0rMMUYLt4HeK1MgYsaxkJP7p7sjpB70M,720
 odoo/addons/sm_partago_user/models/models_sm_member.py,sha256=4a5arUQtpZFp2oJt5rk8EpwGpiAW3x9cuoEOt8zLMSI,21382
 odoo/addons/sm_partago_user/models/models_sm_member_csgroup.py,sha256=YJq77rolcInL9KxHJ9t4FJ1vyaWwr4H1RRO6SwZ-gkc,2452
 odoo/addons/sm_partago_user/models/models_sm_res_config_settings.py,sha256=QVKC26iZRZEjkh6rZxgXO7ECQwRsiBCb5gCDK2AlqeQ,966
 odoo/addons/sm_partago_user/models/models_smp_carsharing_registration_request.py,sha256=IzDfEoB_uMytcQ5d8J9SRSo2CP0rSbSWTuoOxuCwd0s,24142
 odoo/addons/sm_partago_user/models/models_smp_carsharing_registration_wizard.py,sha256=OznLO3EqEZsZjlToC-UsQGKQCkLMQ6BmHI8CQgP-X5s,1741
@@ -30,11 +30,11 @@
 odoo/addons/sm_partago_user/views/views_cs_registration_wizard.xml,sha256=iizPZE8tlOZybs_rRP_sxUnVwRWQYsY09QI5LGr-p-s,1099
 odoo/addons/sm_partago_user/views/views_cs_task.xml,sha256=fkwQW2IWCHnYNjwHpcOb-ZohN0DNOBNfXMvUnbfMjrY,765
 odoo/addons/sm_partago_user/views/views_db.xml,sha256=hAN5NF2HOYf__mZ3BSnCf7sPuzNN4y_qKsXS1ZtSqUM,1442
 odoo/addons/sm_partago_user/views/views_member_cs_groups.xml,sha256=FVinklVRmAA5mNS0wouhnOtuwW9NT_yyuJO87PN9zUs,2142
 odoo/addons/sm_partago_user/views/views_members.xml,sha256=jBn9eydPPAuWWo6yoVkXuJvEgW19Mb77ExPynSdyDSU,9209
 odoo/addons/sm_partago_user/views/views_res_config_settings.xml,sha256=YhVYrp-5YUH3kCfeoSzBWynkEmRJ-Adg9aT5hdyErUw,1119
 odoo/addons/sm_partago_user/views/views_tariff.xml,sha256=ssjZ893oWni23fUFxe-lgTkX3pDbNjhWHeee2rPbot0,552
-odoo12_addon_sm_partago_user-12.0.0.1.6.dist-info/METADATA,sha256=J_sfZM9mFow0nWMtxXvMkttEYz2LLQsnUHIGc8bnEGA,526
-odoo12_addon_sm_partago_user-12.0.0.1.6.dist-info/WHEEL,sha256=z9j0xAa_JmUKMpmz72K0ZGALSM_n-wQVmGbleXx2VHg,110
-odoo12_addon_sm_partago_user-12.0.0.1.6.dist-info/top_level.txt,sha256=qBj40grFkGOfDZ2WDSw3y1RnDlgG0u8rP8pvGNdbz4w,5
-odoo12_addon_sm_partago_user-12.0.0.1.6.dist-info/RECORD,,
+odoo12_addon_sm_partago_user-12.0.0.1.7.dist-info/METADATA,sha256=xSxL1mZxuLRL5Kd4B13X0mk34pCO5YDtbsQGu7YOTYY,526
+odoo12_addon_sm_partago_user-12.0.0.1.7.dist-info/WHEEL,sha256=z9j0xAa_JmUKMpmz72K0ZGALSM_n-wQVmGbleXx2VHg,110
+odoo12_addon_sm_partago_user-12.0.0.1.7.dist-info/top_level.txt,sha256=qBj40grFkGOfDZ2WDSw3y1RnDlgG0u8rP8pvGNdbz4w,5
+odoo12_addon_sm_partago_user-12.0.0.1.7.dist-info/RECORD,,
```

