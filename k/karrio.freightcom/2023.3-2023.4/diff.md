# Comparing `tmp/karrio.freightcom-2023.3-py3-none-any.whl.zip` & `tmp/karrio.freightcom-2023.4-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,25 +1,25 @@
-Zip file size: 108202 bytes, number of entries: 23
+Zip file size: 108247 bytes, number of entries: 23
 -rw-rw-r--  2.0 unx        0 b- defN 22-Nov-15 19:21 freightcom_lib/__init__.py
 -rw-rw-r--  2.0 unx    58942 b- defN 22-Nov-15 19:21 freightcom_lib/error.py
 -rw-rw-r--  2.0 unx    79658 b- defN 22-Nov-15 19:21 freightcom_lib/quote_reply.py
 -rw-rw-r--  2.0 unx   133575 b- defN 22-Nov-15 19:21 freightcom_lib/quote_request.py
 -rw-rw-r--  2.0 unx    65098 b- defN 22-Nov-15 19:21 freightcom_lib/shipment_cancel_reply.py
 -rw-rw-r--  2.0 unx    60814 b- defN 22-Nov-15 19:21 freightcom_lib/shipment_cancel_request.py
 -rw-rw-r--  2.0 unx   124094 b- defN 22-Nov-15 19:21 freightcom_lib/shipping_reply.py
 -rw-rw-r--  2.0 unx   171931 b- defN 22-Nov-15 19:21 freightcom_lib/shipping_request.py
 -rw-rw-r--  2.0 unx      539 b- defN 22-Nov-15 19:21 karrio/mappers/freightcom/__init__.py
--rw-rw-r--  2.0 unx     1733 b- defN 22-Nov-15 19:21 karrio/mappers/freightcom/mapper.py
--rw-rw-r--  2.0 unx     1373 b- defN 22-Nov-15 19:21 karrio/mappers/freightcom/proxy.py
--rw-rw-r--  2.0 unx      411 b- defN 22-Nov-15 19:21 karrio/mappers/freightcom/settings.py
+-rw-rw-r--  2.0 unx     1676 b- defN 23-Apr-01 12:45 karrio/mappers/freightcom/mapper.py
+-rw-rw-r--  2.0 unx     1358 b- defN 23-Apr-01 12:45 karrio/mappers/freightcom/proxy.py
+-rw-rw-r--  2.0 unx      433 b- defN 23-Apr-15 06:44 karrio/mappers/freightcom/settings.py
 -rw-rw-r--  2.0 unx      287 b- defN 22-Nov-15 19:21 karrio/providers/freightcom/__init__.py
 -rw-rw-r--  2.0 unx     1195 b- defN 22-Nov-15 19:21 karrio/providers/freightcom/error.py
--rw-rw-r--  2.0 unx     6995 b- defN 23-Mar-25 15:21 karrio/providers/freightcom/quote.py
--rw-rw-r--  2.0 unx    11679 b- defN 23-Mar-25 15:23 karrio/providers/freightcom/shipping.py
+-rw-rw-r--  2.0 unx     7021 b- defN 23-Apr-01 15:18 karrio/providers/freightcom/quote.py
+-rw-rw-r--  2.0 unx    11732 b- defN 23-Apr-01 15:18 karrio/providers/freightcom/shipping.py
 -rw-rw-r--  2.0 unx     5558 b- defN 23-Jan-11 18:22 karrio/providers/freightcom/units.py
--rw-rw-r--  2.0 unx      841 b- defN 22-Nov-15 19:21 karrio/providers/freightcom/utils.py
--rw-rw-r--  2.0 unx     1412 b- defN 22-Nov-15 19:21 karrio/providers/freightcom/void_shipment.py
--rw-rw-r--  2.0 unx      978 b- defN 23-Mar-27 07:12 karrio.freightcom-2023.3.dist-info/METADATA
--rw-rw-r--  2.0 unx       92 b- defN 23-Mar-27 07:12 karrio.freightcom-2023.3.dist-info/WHEEL
--rw-rw-r--  2.0 unx       29 b- defN 23-Mar-27 07:12 karrio.freightcom-2023.3.dist-info/top_level.txt
--rw-rw-r--  2.0 unx     2092 b- defN 23-Mar-27 07:12 karrio.freightcom-2023.3.dist-info/RECORD
-23 files, 729326 bytes uncompressed, 104760 bytes compressed:  85.6%
+-rw-rw-r--  2.0 unx      863 b- defN 23-Apr-15 06:44 karrio/providers/freightcom/utils.py
+-rw-rw-r--  2.0 unx     1496 b- defN 23-Apr-01 15:18 karrio/providers/freightcom/void_shipment.py
+-rw-rw-r--  2.0 unx      978 b- defN 23-Apr-18 07:09 karrio.freightcom-2023.4.dist-info/METADATA
+-rw-rw-r--  2.0 unx       92 b- defN 23-Apr-18 07:09 karrio.freightcom-2023.4.dist-info/WHEEL
+-rw-rw-r--  2.0 unx       29 b- defN 23-Apr-18 07:09 karrio.freightcom-2023.4.dist-info/top_level.txt
+-rw-rw-r--  2.0 unx     2092 b- defN 23-Apr-18 07:09 karrio.freightcom-2023.4.dist-info/RECORD
+23 files, 729461 bytes uncompressed, 104805 bytes compressed:  85.6%
```

## zipnote {}

```diff
@@ -51,20 +51,20 @@
 
 Filename: karrio/providers/freightcom/utils.py
 Comment: 
 
 Filename: karrio/providers/freightcom/void_shipment.py
 Comment: 
 
-Filename: karrio.freightcom-2023.3.dist-info/METADATA
+Filename: karrio.freightcom-2023.4.dist-info/METADATA
 Comment: 
 
-Filename: karrio.freightcom-2023.3.dist-info/WHEEL
+Filename: karrio.freightcom-2023.4.dist-info/WHEEL
 Comment: 
 
-Filename: karrio.freightcom-2023.3.dist-info/top_level.txt
+Filename: karrio.freightcom-2023.4.dist-info/top_level.txt
 Comment: 
 
-Filename: karrio.freightcom-2023.3.dist-info/RECORD
+Filename: karrio.freightcom-2023.4.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## karrio/mappers/freightcom/mapper.py

```diff
@@ -25,31 +25,31 @@
     settings: Settings
 
     # Request Mappers
 
     def create_rate_request(self, payload: RateRequest) -> Serializable:
         return quote_request(payload, self.settings)
 
-    def create_shipment_request(
-        self, payload: ShipmentRequest
-    ) -> Serializable:
+    def create_shipment_request(self, payload: ShipmentRequest) -> Serializable:
         return shipping_request(payload, self.settings)
 
-    def create_cancel_shipment_request(self, payload: ShipmentCancelRequest) -> Serializable:
+    def create_cancel_shipment_request(
+        self, payload: ShipmentCancelRequest
+    ) -> Serializable:
         return shipment_cancel_request(payload, self.settings)
 
     # Response Parsers
 
     def parse_rate_response(
-        self, response: Deserializable[str]
+        self, response: Deserializable
     ) -> Tuple[List[RateDetails], List[Message]]:
-        return parse_quote_reply(response.deserialize(), self.settings)
+        return parse_quote_reply(response, self.settings)
 
     def parse_shipment_response(
-        self, response: Deserializable[str]
+        self, response: Deserializable
     ) -> Tuple[ShipmentDetails, List[Message]]:
-        return parse_shipping_reply(response.deserialize(), self.settings)
+        return parse_shipping_reply(response, self.settings)
 
     def parse_cancel_shipment_response(
-        self, response: Deserializable[str]
+        self, response: Deserializable
     ) -> Tuple[ConfirmationDetails, List[Message]]:
-        return parse_shipment_cancel_reply(response.deserialize(), self.settings)
+        return parse_shipment_cancel_reply(response, self.settings)
```

## karrio/mappers/freightcom/proxy.py

```diff
@@ -3,35 +3,35 @@
 from karrio.mappers.freightcom.settings import Settings
 from karrio.core.utils.serializable import Serializable, Deserializable
 
 
 class Proxy(BaseProxy):
     settings: Settings
 
-    def get_rates(self, request: Serializable) -> Deserializable[str]:
+    def get_rates(self, request: Serializable) -> Deserializable:
         response = http(
             url=self.settings.server_url,
             data=request.serialize(),
             trace=self.trace_as("xml"),
             method="POST",
             headers={"Content-Type": "application/xml"},
         )
         return Deserializable(response, XP.to_xml)
 
-    def create_shipment(self, request: Serializable) -> Deserializable[str]:
+    def create_shipment(self, request: Serializable) -> Deserializable:
         response = http(
             url=self.settings.server_url,
             data=request.serialize(),
             trace=self.trace_as("xml"),
             method="POST",
             headers={"Content-Type": "application/xml"},
         )
         return Deserializable(response, XP.to_xml)
 
-    def cancel_shipment(self, request: Serializable) -> Deserializable[str]:
+    def cancel_shipment(self, request: Serializable) -> Deserializable:
         response = http(
             url=self.settings.server_url,
             data=request.serialize(),
             trace=self.trace_as("xml"),
             method="POST",
             headers={"Content-Type": "application/xml"},
         )
```

## karrio/mappers/freightcom/settings.py

```diff
@@ -12,7 +12,8 @@
     password: str
 
     id: str = None
     test_mode: bool = False
     carrier_id: str = "freightcom"
     account_country_code: str = None
     metadata: dict = {}
+    config: dict = {}
```

## karrio/providers/freightcom/quote.py

```diff
@@ -13,17 +13,19 @@
 import karrio.core.models as models
 import karrio.providers.freightcom.error as provider_error
 import karrio.providers.freightcom.units as provider_units
 import karrio.providers.freightcom.utils as provider_utils
 
 
 def parse_quote_reply(
-    response: lib.Element, settings: provider_utils.Settings
+    _response: lib.Deserializable[lib.Element], settings: provider_utils.Settings
 ) -> typing.Tuple[typing.List[models.RateDetails], typing.List[models.Message]]:
-    estimates = response.xpath(".//*[local-name() = $name]", name="Quote")
+    response = _response.deserialize()
+    estimates = lib.find_element("Quote", response)
+
     return (
         [_extract_rate(node, settings) for node in estimates],
         provider_error.parse_error_response(response, settings),
     )
 
 
 def _extract_rate(
@@ -62,15 +64,15 @@
         meta=dict(rate_provider=rate_provider, service_name=service_name),
     )
 
 
 def quote_request(
     payload: models.RateRequest,
     settings: provider_utils.Settings,
-) -> lib.Serializable[Freightcom]:
+) -> lib.Serializable:
     shipper = lib.to_address(payload.shipper)
     recipient = lib.to_address(payload.recipient)
     packages = lib.to_packages(
         payload.parcels,
         package_option_type=provider_units.ShippingOption,
         required=["weight", "height", "width", "length"],
     )
```

## karrio/providers/freightcom/shipping.py

```diff
@@ -24,16 +24,18 @@
 import karrio.core.models as models
 import karrio.providers.freightcom.error as provider_error
 import karrio.providers.freightcom.units as provider_units
 import karrio.providers.freightcom.utils as provider_utils
 
 
 def parse_shipping_reply(
-    response: lib.Element, settings: provider_utils.Settings
+    _response: lib.Deserializable[lib.Element],
+    settings: provider_utils.Settings,
 ) -> typing.Tuple[models.ShipmentDetails, typing.List[models.Message]]:
+    response = _response.deserialize()
     shipping_node = lib.find_element("ShippingReply", response, first=True)
     shipment = (
         _extract_shipment(shipping_node, settings)
         if shipping_node is not None
         else None
     )
 
@@ -95,15 +97,15 @@
         ),
     )
 
 
 def shipping_request(
     payload: models.ShipmentRequest,
     settings: provider_utils.Settings,
-) -> lib.Serializable[Freightcom]:
+) -> lib.Serializable:
     shipper = lib.to_address(payload.shipper)
     recipient = lib.to_address(payload.recipient)
     service = provider_units.ShippingService.map(payload.service).value_or_key
     packages = lib.to_packages(
         payload.parcels,
         package_option_type=provider_units.ShippingOption,
         required=["weight", "height", "width", "length"],
```

## karrio/providers/freightcom/utils.py

```diff
@@ -8,14 +8,15 @@
     """Freightcom connection settings."""
 
     username: str
     password: str
 
     account_country_code: str = None
     metadata: dict = {}
+    config: dict = {}
 
     @property
     def server_url(self):
         return (
             "https://test.freightcom.com/rpc2"
             if self.test_mode
             else "https://app.freightcom.com/rpc2"
```

## karrio/providers/freightcom/void_shipment.py

```diff
@@ -7,19 +7,22 @@
 from karrio.core.models import ShipmentCancelRequest, ConfirmationDetails, Message
 from karrio.core.utils import (
     Element,
     Serializable,
 )
 from karrio.providers.freightcom.error import parse_error_response
 from karrio.providers.freightcom.utils import Settings, standard_request_serializer
+import karrio.lib as lib
 
 
 def parse_shipment_cancel_reply(
-    response: Element, settings: Settings
+    _response: lib.Deserializable[Element],
+    settings: Settings,
 ) -> Tuple[ConfirmationDetails, List[Message]]:
+    response = _response.deserialize()
     errors = parse_error_response(response, settings)
     success = len(errors) == 0
     confirmation: ConfirmationDetails = (
         ConfirmationDetails(
             carrier_id=settings.carrier_id,
             carrier_name=settings.carrier_name,
             success=success,
@@ -30,16 +33,15 @@
     )
 
     return confirmation, errors
 
 
 def shipment_cancel_request(
     payload: ShipmentCancelRequest, settings: Settings
-) -> Serializable[str]:
-
+) -> Serializable:
     request = Freightcom(
         username=settings.username,
         password=settings.password,
         version="3.1.0",
         ShipmentCancelRequest=ShipmentCancelRequestType(
             Order=OrderType(orderId=payload.shipment_identifier)
         ),
```

## Comparing `karrio.freightcom-2023.3.dist-info/METADATA` & `karrio.freightcom-2023.4.dist-info/METADATA`

 * *Files 1% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: karrio.freightcom
-Version: 2023.3
+Version: 2023.4
 Summary: Karrio - Freightcom Shipping extension
 Home-page: https://github.com/karrioapi/karrio
 Author: karrio
 Author-email: hello@karrio.io
 License: Apache-2.0
 Platform: UNKNOWN
 Classifier: Intended Audience :: Developers
```

## Comparing `karrio.freightcom-2023.3.dist-info/RECORD` & `karrio.freightcom-2023.4.dist-info/RECORD`

 * *Files 14% similar despite different names*

```diff
@@ -3,21 +3,21 @@
 freightcom_lib/quote_reply.py,sha256=NEQlmNiBm2ni3-1Srai5GKKbohavihTvjHdD1BfBY1I,79658
 freightcom_lib/quote_request.py,sha256=-8HBKCtq_ccCkpYFJydSJ_0FM187EeqsYe-TeFQdkSg,133575
 freightcom_lib/shipment_cancel_reply.py,sha256=osBgp56hhKik-WTn6wIJ74k7mTPVoqep6iFXZIfQSKI,65098
 freightcom_lib/shipment_cancel_request.py,sha256=X3aZNTL4rNKwvcLZN_ZaUUa7MJvWYA_5Tja-cC5U2KE,60814
 freightcom_lib/shipping_reply.py,sha256=W447apYWu1gfKNP0zjBdq6CjLn7csa69r1XQcb4-RPo,124094
 freightcom_lib/shipping_request.py,sha256=932_zOH0rvl-KK9ubptNWITR-1OjNErSaIzp_hGif5w,171931
 karrio/mappers/freightcom/__init__.py,sha256=-CP1_aVhQi3aTZi7ay9b7cX-GMycK5baYRkIDpltjYw,539
-karrio/mappers/freightcom/mapper.py,sha256=QOQUUTn_tcdViqrQyoQTwiCoZt4EuimWgRTQ8IiQdXU,1733
-karrio/mappers/freightcom/proxy.py,sha256=0uVEkLY-2BN6rUrMgpeBZR9AqwXVObsW3rphMhZ4nLs,1373
-karrio/mappers/freightcom/settings.py,sha256=Q9ahY52Lyc5VL6c3GxhE7eVe9dpyydvmh_z9R5P55LA,411
+karrio/mappers/freightcom/mapper.py,sha256=WB6tunAEQ_5QDAeTOfS6MbiNu-jeMwBwZhfI9GnCcC4,1676
+karrio/mappers/freightcom/proxy.py,sha256=BDeV5NPSTdyJ8sjYfyxKRDJHCNOZTQ61pF1amaGaKNU,1358
+karrio/mappers/freightcom/settings.py,sha256=Ev4s8U5IeEWLOoYHiF6xNv0LKrTNP5VeXbPCPux_NkI,433
 karrio/providers/freightcom/__init__.py,sha256=bCMOxWuRKQWosi7-LP2J95VAON9YC42-gL1TXIh7tBE,287
 karrio/providers/freightcom/error.py,sha256=em6R13xunmG1uKHmbm1eJRTXdAfAqY7y3loNRNfWd-A,1195
-karrio/providers/freightcom/quote.py,sha256=fT17dCziD9b1YvnJXDiBjWwL2Qp0la8Llcyk49Gu_P4,6995
-karrio/providers/freightcom/shipping.py,sha256=l9LQJG-brE80k_I0TjV1Xy3abGDv9GS8WGXf2D1Ot3E,11679
+karrio/providers/freightcom/quote.py,sha256=ufFI0gtBwADCoxyajpR_ekD8_a5vgQf3thFuP06reAw,7021
+karrio/providers/freightcom/shipping.py,sha256=TVjDTa9Jjdh_dQr3UHXX6VzjGulBufXGWVZnzy5IJlE,11732
 karrio/providers/freightcom/units.py,sha256=W_b9QMvy4uspVeZmcolbbtMwwbXB3b65Uslx3p5_G8c,5558
-karrio/providers/freightcom/utils.py,sha256=k-I66l3k5Vz5dbTXsmvTz6sv3Aur1Fn3NggK_6TohdY,841
-karrio/providers/freightcom/void_shipment.py,sha256=C_g0G4nxnF8-4_1Fv_LH1mGPivpUk_GWkERHWlzBHQI,1412
-karrio.freightcom-2023.3.dist-info/METADATA,sha256=U64KjWSSLiT7UmwoelsDXFelsGxk25xE9I1HaCgvOX8,978
-karrio.freightcom-2023.3.dist-info/WHEEL,sha256=pkctZYzUS4AYVn6dJ-7367OJZivF2e8RA9b_ZBjif18,92
-karrio.freightcom-2023.3.dist-info/top_level.txt,sha256=CPv6b8RQBViWh1_AgEsEmOTs0L7jeSVnr4Woe-vcEZ0,29
-karrio.freightcom-2023.3.dist-info/RECORD,,
+karrio/providers/freightcom/utils.py,sha256=XV7mdlvtsrAPX2N1Obr-jf3JX-LXt_0i0MMF8wP5aTM,863
+karrio/providers/freightcom/void_shipment.py,sha256=QZ2-F7b6wzMeRUTJZ9lwDbnpDl8JHhZP2oLZT0znyU8,1496
+karrio.freightcom-2023.4.dist-info/METADATA,sha256=MU-iFuTaw0rO2xCT81Gmz7LezGF8N7McPXum-yxIuLM,978
+karrio.freightcom-2023.4.dist-info/WHEEL,sha256=pkctZYzUS4AYVn6dJ-7367OJZivF2e8RA9b_ZBjif18,92
+karrio.freightcom-2023.4.dist-info/top_level.txt,sha256=CPv6b8RQBViWh1_AgEsEmOTs0L7jeSVnr4Woe-vcEZ0,29
+karrio.freightcom-2023.4.dist-info/RECORD,,
```

