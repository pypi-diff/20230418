# Comparing `tmp/coco_types-0.0.4.tar.gz` & `tmp/coco_types-0.0.5.tar.gz`

## Comparing `coco_types-0.0.4.tar` & `coco_types-0.0.5.tar`

### file list

```diff
@@ -1,20 +1,21 @@
--rw-r--r--   0        0        0     1240 2020-02-02 00:00:00.000000 coco_types-0.0.4/.pre-commit-config.yaml
--rw-r--r--   0        0        0     1327 2020-02-02 00:00:00.000000 coco_types-0.0.4/pyrightconfig.json
--rw-r--r--   0        0        0       36 2020-02-02 00:00:00.000000 coco_types-0.0.4/pytest.ini
--rw-r--r--   0        0        0     1857 2020-02-02 00:00:00.000000 coco_types-0.0.4/requirements-dev.txt
--rw-r--r--   0        0        0      549 2020-02-02 00:00:00.000000 coco_types-0.0.4/requirements-test.txt
--rw-r--r--   0        0        0      281 2020-02-02 00:00:00.000000 coco_types-0.0.4/requirements.txt
--rwxr-xr-x   0        0        0     1301 2020-02-02 00:00:00.000000 coco_types-0.0.4/setup.cfg
--rw-r--r--   0        0        0      528 2020-02-02 00:00:00.000000 coco_types-0.0.4/coco_types/__init__.py
--rw-r--r--   0        0        0     1471 2020-02-02 00:00:00.000000 coco_types-0.0.4/coco_types/coco_keypoints.py
--rw-r--r--   0        0        0     1528 2020-02-02 00:00:00.000000 coco_types-0.0.4/coco_types/coco_object_detection.py
--rw-r--r--   0        0        0        0 2020-02-02 00:00:00.000000 coco_types-0.0.4/coco_types/py.typed
--rw-r--r--   0        0        0       67 2020-02-02 00:00:00.000000 coco_types-0.0.4/coco_types/dicts/__init__.py
--rw-r--r--   0        0        0      447 2020-02-02 00:00:00.000000 coco_types-0.0.4/coco_types/dicts/coco_keypoints.py
--rw-r--r--   0        0        0     1463 2020-02-02 00:00:00.000000 coco_types-0.0.4/coco_types/dicts/coco_object_detection.py
--rw-r--r--   0        0        0      391 2020-02-02 00:00:00.000000 coco_types-0.0.4/tests/test_load_pydantic.py
--rwxr-xr-x   0        0        0      101 2020-02-02 00:00:00.000000 coco_types-0.0.4/.gitignore
--rw-r--r--   0        0        0     1069 2020-02-02 00:00:00.000000 coco_types-0.0.4/LICENSE.md
--rw-r--r--   0        0        0     2246 2020-02-02 00:00:00.000000 coco_types-0.0.4/README.md
--rw-r--r--   0        0        0     1601 2020-02-02 00:00:00.000000 coco_types-0.0.4/pyproject.toml
--rw-r--r--   0        0        0     3444 2020-02-02 00:00:00.000000 coco_types-0.0.4/PKG-INFO
+-rw-r--r--   0        0        0      806 2020-02-02 00:00:00.000000 coco_types-0.0.5/.pre-commit-config.yaml
+-rw-r--r--   0        0        0       36 2020-02-02 00:00:00.000000 coco_types-0.0.5/pytest.ini
+-rwxr-xr-x   0        0        0     1301 2020-02-02 00:00:00.000000 coco_types-0.0.5/setup.cfg
+-rw-r--r--   0        0        0      536 2020-02-02 00:00:00.000000 coco_types-0.0.5/requirements/README.md
+-rw-r--r--   0        0        0     2019 2020-02-02 00:00:00.000000 coco_types-0.0.5/requirements/requirements-build.txt
+-rw-r--r--   0        0        0     1179 2020-02-02 00:00:00.000000 coco_types-0.0.5/requirements/requirements-dev.txt
+-rw-r--r--   0        0        0      531 2020-02-02 00:00:00.000000 coco_types-0.0.5/requirements/requirements-test.txt
+-rw-r--r--   0        0        0      294 2020-02-02 00:00:00.000000 coco_types-0.0.5/requirements/requirements.txt
+-rw-r--r--   0        0        0      496 2020-02-02 00:00:00.000000 coco_types-0.0.5/src/coco_types/__init__.py
+-rw-r--r--   0        0        0     1775 2020-02-02 00:00:00.000000 coco_types-0.0.5/src/coco_types/coco_keypoints.py
+-rw-r--r--   0        0        0     1722 2020-02-02 00:00:00.000000 coco_types-0.0.5/src/coco_types/coco_object_detection.py
+-rw-r--r--   0        0        0        0 2020-02-02 00:00:00.000000 coco_types-0.0.5/src/coco_types/py.typed
+-rw-r--r--   0        0        0       67 2020-02-02 00:00:00.000000 coco_types-0.0.5/src/coco_types/dicts/__init__.py
+-rw-r--r--   0        0        0      447 2020-02-02 00:00:00.000000 coco_types-0.0.5/src/coco_types/dicts/coco_keypoints.py
+-rw-r--r--   0        0        0     1463 2020-02-02 00:00:00.000000 coco_types-0.0.5/src/coco_types/dicts/coco_object_detection.py
+-rw-r--r--   0        0        0      430 2020-02-02 00:00:00.000000 coco_types-0.0.5/tests/test_load_pydantic.py
+-rwxr-xr-x   0        0        0      101 2020-02-02 00:00:00.000000 coco_types-0.0.5/.gitignore
+-rw-r--r--   0        0        0     1069 2020-02-02 00:00:00.000000 coco_types-0.0.5/LICENSE.md
+-rw-r--r--   0        0        0     2292 2020-02-02 00:00:00.000000 coco_types-0.0.5/README.md
+-rw-r--r--   0        0        0     3082 2020-02-02 00:00:00.000000 coco_types-0.0.5/pyproject.toml
+-rw-r--r--   0        0        0     3301 2020-02-02 00:00:00.000000 coco_types-0.0.5/PKG-INFO
```

### Comparing `coco_types-0.0.4/requirements-dev.txt` & `coco_types-0.0.5/requirements/requirements-dev.txt`

 * *Files 27% similar despite different names*

```diff
@@ -1,82 +1,54 @@
 #
 # This file is autogenerated by pip-compile with Python 3.10
 # by the following command:
 #
-#    pip-compile --extra=dev --output-file=requirements-dev.txt --resolver=backtracking pyproject.toml
+#    pip-compile --extra=dev --output-file=requirements/requirements-dev.txt --resolver=backtracking pyproject.toml
 #
-attrs==22.2.0
-    # via flake8-bugbear
 build==0.10.0
     # via pip-tools
 cfgv==3.3.1
     # via pre-commit
 click==8.1.3
     # via pip-tools
 distlib==0.3.6
     # via virtualenv
-filelock==3.9.0
+filelock==3.11.0
     # via virtualenv
-flake8==6.0.0
-    # via
-    #   coco_types (pyproject.toml)
-    #   flake8-bugbear
-    #   flake8-comprehensions
-    #   flake8-docstrings
-    #   flake8-quotes
-    #   pep8-naming
-flake8-bugbear==23.2.13
-    # via coco_types (pyproject.toml)
-flake8-comprehensions==3.10.1
-    # via coco_types (pyproject.toml)
-flake8-docstrings==1.7.0
-    # via coco_types (pyproject.toml)
-flake8-import-order==0.18.2
-    # via coco_types (pyproject.toml)
-flake8-quotes==3.3.2
-    # via coco_types (pyproject.toml)
-identify==2.5.18
+identify==2.5.22
     # via pre-commit
-mccabe==0.7.0
-    # via flake8
 nodeenv==1.7.0
-    # via pre-commit
-packaging==23.0
+    # via
+    #   pre-commit
+    #   pyright
+packaging==23.1
     # via build
-pep8-naming==0.13.3
-    # via coco_types (pyproject.toml)
-pip-tools==6.12.2
+pip-tools==6.13.0
     # via coco_types (pyproject.toml)
-platformdirs==3.0.0
+platformdirs==3.2.0
     # via virtualenv
-pre-commit==3.1.0
+pre-commit==3.2.2
     # via coco_types (pyproject.toml)
-pycodestyle==2.10.0
-    # via
-    #   flake8
-    #   flake8-import-order
-pydantic==1.10.5
+pydantic==1.10.7
     # via coco_types (pyproject.toml)
-pydocstyle==6.3.0
-    # via flake8-docstrings
-pyflakes==3.0.1
-    # via flake8
 pyproject-hooks==1.0.0
     # via build
+pyright==1.1.303
+    # via coco_types (pyproject.toml)
 pyyaml==6.0
     # via pre-commit
-snowballstemmer==2.2.0
-    # via pydocstyle
+ruff==0.0.261
+    # via coco_types (pyproject.toml)
 tomli==2.0.1
     # via
     #   build
     #   pyproject-hooks
 typing-extensions==4.5.0
     # via pydantic
-virtualenv==20.19.0
+virtualenv==20.21.0
     # via pre-commit
-wheel==0.38.4
+wheel==0.40.0
     # via pip-tools
 
 # The following packages are considered to be unsafe in a requirements file:
 # pip
 # setuptools
```

### Comparing `coco_types-0.0.4/requirements-test.txt` & `coco_types-0.0.5/requirements/requirements-test.txt`

 * *Files 23% similar despite different names*

```diff
@@ -1,24 +1,22 @@
 #
 # This file is autogenerated by pip-compile with Python 3.10
 # by the following command:
 #
-#    pip-compile --extra=test --output-file=requirements-test.txt --resolver=backtracking pyproject.toml
+#    pip-compile --extra=test --output-file=requirements/requirements-test.txt --resolver=backtracking pyproject.toml
 #
-attrs==22.2.0
-    # via pytest
-exceptiongroup==1.1.0
+exceptiongroup==1.1.1
     # via pytest
 iniconfig==2.0.0
     # via pytest
-packaging==23.0
+packaging==23.1
     # via pytest
 pluggy==1.0.0
     # via pytest
-pydantic==1.10.5
+pydantic==1.10.7
     # via coco_types (pyproject.toml)
-pytest==7.2.1
+pytest==7.3.1
     # via coco_types (pyproject.toml)
 tomli==2.0.1
     # via pytest
 typing-extensions==4.5.0
     # via pydantic
```

### Comparing `coco_types-0.0.4/setup.cfg` & `coco_types-0.0.5/setup.cfg`

 * *Files identical despite different names*

### Comparing `coco_types-0.0.4/coco_types/coco_keypoints.py` & `coco_types-0.0.5/src/coco_types/coco_keypoints.py`

 * *Files 18% similar despite different names*

```diff
@@ -1,39 +1,42 @@
-from pydantic import validator
+from typing import Generic, TypeVar
 
-from .coco_object_detection import Annotation, Category, Dataset
+from pydantic import validator  # pyright: ignore[reportUnknownVariableType]
 
+from .coco_object_detection import Annotation, Category, Dataset, EncodedRLE, RLE, TPolygon_segmentation
 
-class AnnotationKP(Annotation):
+TSegmentation = TypeVar("TSegmentation", TPolygon_segmentation, RLE, EncodedRLE)
+
+class AnnotationKP(Annotation[TSegmentation], Generic[TSegmentation]):
     keypoints: list[int]
     num_keypoints: int
 
     @validator("keypoints")
-    def keypoints_length(cls, keypoints: list[int]):  # noqa: N805
+    def keypoints_length(cls, keypoints: list[int]) -> list[int]:
         assert len(keypoints) % 3 == 0, (
             "Keypoints should be a length 3k array where k is the total number of keypoints defined for the category")
         return keypoints
 
     @validator("keypoints")
-    def keypoints_visibility_flag(cls, keypoints: list[int]):  # noqa: N805
+    def keypoints_visibility_flag(cls, keypoints: list[int]) -> list[int]:
         for i in range(2, len(keypoints), 3):
             assert keypoints[i] in (0, 1, 2), (
                 f"The visibility flag can only take the values 0 (nto labeled), 1 (labeled but not visible) "
                 f"and 2 (labeled and visible). Got {keypoints[i]}")
         return keypoints
 
     @validator("num_keypoints")
-    def num_keypoints_matches_keypoints_length(cls, num_keypoints: int, values: dict[str, list[int]]):  # noqa: N805
+    def num_keypoints_matches_keypoints_length(cls, num_keypoints: int, values: dict[str, list[int]]) -> int:
         if len(values["keypoints"]) // 3 != num_keypoints:
             raise ValueError(f"Length of the keypoints list ({len(values['keypoints'])}) does not match "
                              f"the number of keypoints ({num_keypoints}).")
         return num_keypoints
 
 
 class CategoryKP(Category):
     keypoints: list[str]
     skeleton: list[tuple[int, int]]
 
 
 class DatasetKP(Dataset):
-    annotations: list[AnnotationKP]
+    annotations: list[AnnotationKP[TPolygon_segmentation] | AnnotationKP[RLE] | AnnotationKP[EncodedRLE]]
     categories: list[CategoryKP]
```

### Comparing `coco_types-0.0.4/coco_types/coco_object_detection.py` & `coco_types-0.0.5/src/coco_types/coco_object_detection.py`

 * *Files 8% similar despite different names*

```diff
@@ -1,10 +1,11 @@
-from typing import Optional
+from typing import Generic, TypeVar
 
 from pydantic import BaseModel
+from pydantic.generics import GenericModel
 
 
 class Info(BaseModel):
     year: int
     version: str
     description: str
     contributor: str
@@ -34,35 +35,38 @@
 
 
 class EncodedRLE(BaseModel):
     size: list[int]
     counts: str | bytes
 
 
-class Annotation(BaseModel):
+TSegmentation = TypeVar("TSegmentation", TPolygon_segmentation, RLE, EncodedRLE)
+
+
+class Annotation(GenericModel, Generic[TSegmentation]):
     id: int
     image_id: int
     category_id: int
     # Segmentation can be a polygon, RLE or encoded RLE.
     # Exemple of polygon: "segmentation": [[510.66,423.01,511.72,420.03,...,510.45,423.01]]
     # Exemple of RLE: "segmentation": {"size": [40, 40], "counts": [245, 5, 35, 5, 35, 5, 35, 5, 35, 5, 1190]}
     # Exemple of encoded RLE: "segmentation": {"size": [480, 640], "counts": "aUh2b0X...BgRU4"}
-    segmentation: TPolygon_segmentation | RLE | EncodedRLE
+    segmentation: TSegmentation
     area: float
     # The COCO bounding box format is [top left x position, top left y position, width, height].
     # bbox exemple:  "bbox": [473.07,395.93,38.65,28.67]
     bbox: list[float]
     iscrowd: int  # Either 1 or 0
 
 
 class Category(BaseModel):
     id: int
     name: str
     supercategory: str
 
 
 class Dataset(BaseModel):
-    info: Optional[Info] = None
-    licences: Optional[list[Licence]] = None
+    info: Info | None = None
+    licences: list[Licence] | None = None
     images: list[Image]
-    annotations: list[Annotation]
+    annotations: list[Annotation[TPolygon_segmentation] | Annotation[RLE] | Annotation[EncodedRLE]]
     categories: list[Category]
```

### Comparing `coco_types-0.0.4/coco_types/dicts/coco_object_detection.py` & `coco_types-0.0.5/src/coco_types/dicts/coco_object_detection.py`

 * *Files identical despite different names*

### Comparing `coco_types-0.0.4/LICENSE.md` & `coco_types-0.0.5/LICENSE.md`

 * *Files identical despite different names*

### Comparing `coco_types-0.0.4/README.md` & `coco_types-0.0.5/README.md`

 * *Files 5% similar despite different names*

```diff
@@ -64,7 +64,11 @@
 ### Keypoints
 If using a dataset with keypoints (`coco_types.DatasetKP`), then annotations will have two additional attributes: `keypoints` and `num_keypoints`.\
 In the same way, categories will have  two additional attributes: `keypoints` and `skeleton`.
 
 
 ## TypedDict versions
 `TypedDict` version of the objects can be accessed using `coco_types.dicts.*` (for example `coco_types.dicts.Dataset`). This can be useful if you have data that is slightly malformed / follows a slightly different format but is still usable.
+
+
+## TODOs:
+- Rename EncodedRLE to COCO_RLE ?
```

### Comparing `coco_types-0.0.4/PKG-INFO` & `coco_types-0.0.5/PKG-INFO`

 * *Files 6% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: coco_types
-Version: 0.0.4
+Version: 0.0.5
 Summary: Package for handling COCO datasets types.
 Project-URL: Homepage, https://github.com/hoel-bagard/coco_types
 Project-URL: Bug Tracker, https://github.com/hoel-bagard/coco_types/issues
 Author: Bagard Hoel
 License: MIT
 License-File: LICENSE.md
 Keywords: COCO,COCO dataset
@@ -12,24 +12,21 @@
 Classifier: License :: OSI Approved :: MIT License
 Classifier: Operating System :: OS Independent
 Classifier: Programming Language :: Python :: 3
 Classifier: Programming Language :: Python :: 3.9
 Classifier: Programming Language :: Python :: 3.10
 Requires-Python: >=3.9
 Requires-Dist: pydantic
+Provides-Extra: build
+Requires-Dist: hatch; extra == 'build'
 Provides-Extra: dev
-Requires-Dist: flake8; extra == 'dev'
-Requires-Dist: flake8-bugbear; extra == 'dev'
-Requires-Dist: flake8-comprehensions; extra == 'dev'
-Requires-Dist: flake8-docstrings; extra == 'dev'
-Requires-Dist: flake8-import-order; extra == 'dev'
-Requires-Dist: flake8-quotes; extra == 'dev'
-Requires-Dist: pep8-naming; extra == 'dev'
 Requires-Dist: pip-tools; extra == 'dev'
 Requires-Dist: pre-commit; extra == 'dev'
+Requires-Dist: pyright; extra == 'dev'
+Requires-Dist: ruff; extra == 'dev'
 Provides-Extra: test
 Requires-Dist: pytest; extra == 'test'
 Description-Content-Type: text/markdown
 
 # COCO Types
 
 Note: This package loads the data as is and does not create dictionaries mapping ids to lists of images/annotations/categories.
@@ -96,7 +93,11 @@
 ### Keypoints
 If using a dataset with keypoints (`coco_types.DatasetKP`), then annotations will have two additional attributes: `keypoints` and `num_keypoints`.\
 In the same way, categories will have  two additional attributes: `keypoints` and `skeleton`.
 
 
 ## TypedDict versions
 `TypedDict` version of the objects can be accessed using `coco_types.dicts.*` (for example `coco_types.dicts.Dataset`). This can be useful if you have data that is slightly malformed / follows a slightly different format but is still usable.
+
+
+## TODOs:
+- Rename EncodedRLE to COCO_RLE ?
```

